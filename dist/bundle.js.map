{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/game.config.ts","webpack:///./node_modules/lodash/_root.js","webpack:///./src/canvas.ts","webpack:///./node_modules/lodash/_getNative.js","webpack:///./src/geom/vector2.ts","webpack:///./src/assets.ts","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./src/input/mouse.ts","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/keys.js","webpack:///./node_modules/lodash/isArray.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_nodeUtil.js","webpack:///./node_modules/lodash/_isPrototype.js","webpack:///./node_modules/lodash/_getSymbols.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./node_modules/lodash/_cloneArrayBuffer.js","webpack:///./src/common/color.ts","webpack:///./src/ai/ai-trainer.ts","webpack:///./src/menu/menu-action-type.ts","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_arrayLikeKeys.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/keysIn.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/_getSymbolsIn.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_baseGetAllKeys.js","webpack:///./src/input/button-state.ts","webpack:///./src/common/helper.ts","webpack:///./src/input/keyboard.ts","webpack:///./src/Game.ts","webpack:///./src/ai/ai-opponent.ts","webpack:///./src/ai/ai-policy.ts","webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./node_modules/lodash/_baseClone.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_stackClear.js","webpack:///./node_modules/lodash/_stackDelete.js","webpack:///./node_modules/lodash/_stackGet.js","webpack:///./node_modules/lodash/_stackHas.js","webpack:///./node_modules/lodash/_stackSet.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./node_modules/lodash/_Hash.js","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_baseAssign.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./node_modules/lodash/_baseIsTypedArray.js","webpack:///./node_modules/lodash/_baseKeys.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_baseAssignIn.js","webpack:///./node_modules/lodash/_baseKeysIn.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_cloneBuffer.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_copySymbols.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_copySymbolsIn.js","webpack:///./node_modules/lodash/_getAllKeys.js","webpack:///./node_modules/lodash/_getAllKeysIn.js","webpack:///./node_modules/lodash/_DataView.js","webpack:///./node_modules/lodash/_Promise.js","webpack:///./node_modules/lodash/_Set.js","webpack:///./node_modules/lodash/_WeakMap.js","webpack:///./node_modules/lodash/_initCloneArray.js","webpack:///./node_modules/lodash/_initCloneByTag.js","webpack:///./node_modules/lodash/_Uint8Array.js","webpack:///./node_modules/lodash/_cloneDataView.js","webpack:///./node_modules/lodash/_cloneRegExp.js","webpack:///./node_modules/lodash/_cloneSymbol.js","webpack:///./node_modules/lodash/_cloneTypedArray.js","webpack:///./node_modules/lodash/_initCloneObject.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/isMap.js","webpack:///./node_modules/lodash/_baseIsMap.js","webpack:///./node_modules/lodash/isSet.js","webpack:///./node_modules/lodash/_baseIsSet.js","webpack:///./src/menu/commands/go-to-previous-menu-command.ts","webpack:///./src/menu/commands/go-to-sub-menu-command.ts","webpack:///./src/menu/commands/toggle-sound-command.ts","webpack:///./src/menu/commands/pvc-command.ts","webpack:///./src/menu/commands/pvp-command.ts","webpack:///./src/menu/menu.ts","webpack:///./src/menu/menu-button.ts","webpack:///./src/menu/menu-label.ts","webpack:///./src/game-objects/game-world.ts","webpack:///./src/game-objects/referee.ts","webpack:///./src/game-objects/player.ts","webpack:///./src/game-objects/stick.ts","webpack:///./src/game-objects/ball.ts","webpack:///./src/game-objects/state.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","menu_action_type_1","GAME_CONFIG","LOG","GAME_WIDTH","GAME_HEIGHT","RED_BALLS_POSITIONS","x","y","YELLOW_BALLS_POSITIONS","CUE_BALL_POSITION","EIGHT_BALL_POSITION","MATCH_SCORE_POSITIONS","MATCH_SCORE_MARGIN","OVERALL_SCORE_LABELS_POSITIONS","OVERALL_SCORE_LABEL_FONT","OVERALL_SCORE_LABEL_COLOR","OVERALL_SCORE_LABEL_ALIGNMENT","SPRITES_BASE_PATH","SPRITES","MAIN_MENU_BACKGROUND","TABLE","CUE_BALL","RED_BALL","YELLOW_BALL","BLACK_BALL","STICK","TWO_PLAYERS_BUTTON","TWO_PLAYERS_BUTTON_HOVERED","ONE_PLAYER_BUTTON","ONE_PLAYER_BUTTON_HOVERED","MUTE_BUTTON","MUTE_BUTTON_HOVERED","MUTE_BUTTON_PRESSED","MUTE_BUTTON_PRESSED_HOVERED","EASY_BUTTON","EASY_BUTTON_HOVERED","MEDIUM_BUTTON","MEDIUM_BUTTON_HOVERED","HARD_BUTTON","HARD_BUTTON_HOVERED","BACK_BUTTON","BACK_BUTTON_HOVERED","CONTINUE_BUTTON","CONTINUE_BUTTON_HOVERED","INSANE_BUTTON","INSANE_BUTTON_HOVERED","ABOUT_BUTTON","ABOUT_BUTTON_HOVERED","CONTROLS","RED_SCORE","YELLOW_SCORE","SOUNDS_BASE_PATH","SOUNDS","BALLS_COLLIDE","STRIKE","RAIL","MUSIC","FRICTION","COLLISION_LOSS","CUSHION_WIDTH","POCKET_RADIUS","POCKETS_POSITIONS","CURRENT_PLAYER_LABEL_POSITION","CURRENT_PLAYER_LABEL_COLOR","CURRENT_PLAYER_LABEL","CURRENT_PLAYER_LABEL_FONT","CURRENT_PLAYER_LABEL_ALIGNMENT","BALL_DIAMETER","BALL_ORIGIN","BALL_MIN_VELOCITY_LENGTH","MAX_BALL_EXPECTED_VELOCITY","MAX_BALL_EXPECTED_COLLISION_FORCE","STICK_ORIGIN","STICK_SHOT_ORIGIN","POWER_TO_ADD_PER_FRAME","STICK_MOVEMENT_PER_FRAME","STICK_MAX_POWER","SELECT_MOUSE_BUTTON","SHOOT_MOUSE_BUTTON","PLACE_BALL_IN_HAND_MOUSE_BUTTON","INCREASE_SHOT_POWER_KEY","DECREASE_SHOT_POWER_KEY","BACK_TO_MENU_KEY","TIMEOUT_TO_HIDE_STICK_AFTER_SHOT","TIMOUT_TO_HIDE_BALL_AFTER_POCKET","LOADING_SCREEN_TIMEOUT","TIMEOUT_TO_LOAD_MENU","MAIN_MENU_CONFIG","LABELS","text","position","font","color","alignment","Date","getFullYear","BUTTONS","action","MenuActionType","PVP","sprite","spriteOnHover","GoToSubMenu","ToggleSound","SUB_MENUS","GoToPreviousMenu","PVC","DEFAULT_CURSOR","BUTTON_CURSOR","LOADING_SCREEN_IMAGE_POSITION","SOUND_ON","AI_ON","AI_TRAIN_ITERATIONS","AI_PLAYER_INDEX","AI_BALL_DISTANCE_BONUS","AI_VALID_TURN_BONUS","AI_POCKETED_BALLS_BONUS","AI_INVLID_TURN_PENALTY","AI_GAME_WON_BONUS","AI_GAME_LOSS_PENALTY","AI_SHOT_POWER_MUTATION_VARIANCE","AI_MIN_SHOT_POWER","freeGlobal","freeSelf","self","root","Function","game_config_1","vector2_1","canvas","document","getElementById","container","Canvas2D","scaleX","this","_scale","scaleY","offsetX","_offset","offsetY","[object Object]","canvasContainer","_canvasContainer","_canvas","_context","getContext","resizeCanvas","originalCanvasWidth","originalCanvasHeight","widthToHeight","newHeight","window","innerHeight","newWidth","innerWidth","style","width","height","marginTop","marginLeft","marginBottom","marginRight","Vector2","offsetParent","offsetLeft","offsetTop","clearRect","zero","rotation","origin","save","scale","translate","rotate","drawImage","restore","textAlign","fillStyle","fillText","cursor","addEventListener","baseIsNative","getValue","undefined","_x","_y","length","Math","sqrt","pow","vector","addToX","addToY","addTo","subtractTo","v","multBy","subtract","Assets","_sprites","Map","_sounds","loadGameSprites","loadGameSounds","cloneNode","volume","sound","getSound","play","path","img","Image","set","Promise","resolve","onload","src","loadPromises","values","map","loadSprite","all","audio","Audio","loadSound","type","button_state_1","canvas_1","Mouse","_buttonStates","ButtonState","_position","event","handleMouseMove","handleMouseDown","handleMouseUp","copy","mouseX","pageX","mouseY","pageY","button","down","pressed","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","index","clear","entry","has","eq","array","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","nativeCreate","getNative","isKeyable","data","__data__","assignValue","baseAssignValue","source","props","customizer","isNew","newValue","arrayLikeKeys","baseKeys","isArrayLike","isArray","Array","webpackPolyfill","deprecate","paths","children","func","freeExports","nodeType","freeModule","freeProcess","process","nodeUtil","types","require","binding","e","objectProto","Ctor","constructor","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","DataView","Set","WeakMap","baseGetTag","toSource","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","result","ctorString","Uint8Array","arrayBuffer","byteLength","Color","ai_opponent_1","ai_policy_1","cloneDeep","mouse_1","AITrainer","_iteration","_finishedSession","_policy","AIPolicy","finishedSession","pos","_initialGameWorld","isValidPosToPlaceCueBall","console","log","placeBallInHand","_opponents","_currentOpponent","createRandomOpponent","_bestOpponent","opponent","newPower","power","random","newRotation","evaluation","PI","AIOpponent","playTurn","_gameWorld","isBallsMoving","concludeTurn","evaluate","current","push","Number","buildNewOpponent","simulate","createMutation","shootCueBall","train","update","reset","gameWorld","isBallInHand","init","opponentTrainingLoop","AI","other","isObject","asyncTag","funcTag","genTag","proxyTag","tag","global","funcToString","toString","objValue","configurable","writable","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","stubFalse","Buffer","MAX_SAFE_INTEGER","transform","arg","isFunction","isLength","baseKeysIn","arrayPush","getPrototype","getSymbolsIn","offset","overArg","getPrototypeOf","keysFunc","symbolsFunc","mapRange","num","in_min","in_max","out_min","out_max","Keyboard","_keyStates","handleKeyUp","handleKeyDown","keyCode","ai_trainer_1","go_to_previous_menu_command_1","go_to_sub_menu_command_1","toggle_sound_command_1","pvc_command_1","pvp_command_1","menu_1","assets_1","game_world_1","keyboard_1","Game","_previousMenus","_menu","Menu","_menuActionsMap","PVPCommand","PVCCommand","ToggleSoundCommand","GoToSubMenuCommand","GoToPreviousMenuCommand","loadGameAssets","initMenuActions","initMainMenu","active","_poolGame","GameWorld","gameLoop","setTimeout","getSubMenu","TIMEOUT_TO_LOAD_SUB_MENU","pop","displayLoadingScreen","then","_inGame","initMatch","_isLoading","getSprite","isPressed","handleInput","draw","requestAnimationFrame","balls","j","firstBall","secondBall","distFrom","isTurnValid","numOfPocketedBallsOnTurn","isGameOver","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","Stack","arrayEach","baseAssign","baseAssignIn","cloneBuffer","copyArray","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","initCloneArray","initCloneByTag","initCloneObject","isMap","isSet","keys","CLONE_FLAT_FLAG","argsTag","objectTag","cloneableTags","bitmask","stack","isDeep","isFlat","isFull","isFunc","stacked","forEach","subValue","add","keysIn","stackClear","stackDelete","stackGet","stackHas","stackSet","size","assocIndexOf","splice","MapCache","LARGE_ARRAY_SIZE","pairs","isMasked","reIsHostCtor","funcProto","reIsNative","RegExp","replace","test","g","nativeObjectToString","isOwn","unmasked","uid","coreJsData","maskSrcKey","exec","IE_PROTO","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","Hash","hash","string","hashClear","hashDelete","hashGet","hashHas","hashSet","HASH_UNDEFINED","getMapData","iteratee","copyObject","baseIsArguments","isObjectLike","arguments","reIsUint","baseIsTypedArray","baseUnary","nodeIsTypedArray","typedArrayTags","isPrototype","nativeKeys","nativeKeysIn","isProto","allocUnsafe","buffer","slice","predicate","resIndex","baseGetAllKeys","input","cloneArrayBuffer","cloneDataView","cloneRegExp","cloneSymbol","cloneTypedArray","boolTag","dateTag","mapTag","numberTag","regexpTag","setTag","stringTag","symbolTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","dataView","byteOffset","reFlags","regexp","lastIndex","symbolProto","symbolValueOf","valueOf","typedArray","baseCreate","objectCreate","proto","baseIsMap","nodeIsMap","baseIsSet","nodeIsSet","_game","goToPreviousMenu","goToSubMenu","currentMuteButtonPath","currentMuteButtonHoveredPath","toggleMuteButtonSprite","iterationsValue","start","menu_button_1","menu_label_1","_active","actionsMap","config","_buttons","MenuButton","_labels","label","MenuLabel","_subMenus","menu","subMenu","changeCursor","_command","_value","_spriteKey","_spriteOnHoverKey","_activeSprite","hovered","_hovered","isInsideButton","execute","_text","_font","_color","_alignment","drawText","helper_1","referee_1","player_1","stick_1","color_1","ball_1","state_1","_players","Player","_currentPlayerIndex","currentPlayer","nextPlayer","_balls","_turnState","ballInHand","isValid","_referee","_cueBall","_8Ball","some","ball","moving","pocketedBalls","filter","_stick","addY","velocity","addX","collided","isBallPosOutsideTopBorder","nextPosition","handleCollisionWithTopCushion","isBallPosOutsideLeftBorder","handleCollisionWithLeftCushion","isBallPosOutsideRightBorder","handleCollisionWithRightCushion","isBallPosOutsideBottomBorder","handleCollisionWithBottomCushion","mult","first","second","visible","dist","mtd","un","ut","v1n","dot","v1t","v2n","v2t","v1nTag","v1tTag","v2nTag","v2tTag","resolveBallCollisionWithCushion","resolveBallsCollision","force","playSound","firstCollidedBallColor","white","pocketPos","isInsidePocket","hide","red","yellow","resolveBallInPocket","includes","isValidPlayerColor","movable","overallScore","foul","handleGameOver","show","State","startSession","matchScore","scorePosition","scoreSprite","OVERALL_SCORE_LABELS_ALIGNMENT","insideTable","redBalls","Ball","yellowBalls","black","Stick","player","Referee","every","isInsideTableBoundaries","ballIndex","indexOf","getBallsByColor","isValidTurn","shoot","handleBallInHand","handleBallsInPockets","handleCollisions","nextTurn","drawCurrentPlayerLabel","drawMatchScores","drawOverallScores","collidedBallColor","state","isValidFirstTouch","isValidPocketedBalls","cueBall","eightBall","_sprite","_rotation","_origin","_power","_movable","_visible","isDown","isLessThanMaxPower","increasePower","isMoreThanMinPower","decreasePower","opposite","adjacent","atan2","updateRotation","updatePower","_velocity","_moving","resolveSprite","angle","cos","sin"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,oFClFA,MAAAC,EAAApC,EAAA,IACaE,EAAAmC,YAAoB,CAE7BC,KAAK,EAGLC,WAAY,KACZC,YAAa,IAGbC,oBAAqB,CACjB,CAAEC,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,MAElBC,uBAAwB,CACpB,CAAEF,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,KACd,CAAED,EAAG,KAAMC,EAAG,MAElBE,kBAAmB,CAAEH,EAAG,IAAKC,EAAG,KAChCG,oBAAqB,CAAEJ,EAAG,KAAMC,EAAG,KACnCI,sBAAuB,CACnB,CAAEL,EAAG,IAAKC,EAAG,IACb,CAAED,EAAG,IAAKC,EAAG,KAEjBK,mBAAoB,GAEpBC,+BAAgC,CAC5B,CAAEP,EAAG,IAAKC,EAAG,KACb,CAAED,EAAG,IAAKC,EAAG,MAEjBO,yBAA0B,eAC1BC,0BAA2B,UAC3BC,8BAA+B,MAG/BC,kBAAmB,kBACnBC,QAAS,CACLC,qBAAuB,2BACvBC,MAAQ,sBACRC,SAAW,gBACXC,SAAW,mBACXC,YAAc,sBACdC,WAAa,qBACbC,MAAQ,gBACRC,mBAAqB,uBACrBC,2BAA6B,6BAC7BC,kBAAoB,sBACpBC,0BAA4B,4BAC5BC,YAAc,kBACdC,oBAAsB,wBACtBC,oBAAsB,0BACtBC,4BAA8B,gCAC9BC,YAAc,kBACdC,oBAAsB,wBACtBC,cAAgB,oBAChBC,sBAAwB,0BACxBC,YAAc,kBACdC,oBAAsB,wBACtBC,YAAc,kBACdC,oBAAsB,wBACtBC,gBAAkB,sBAClBC,wBAA0B,4BAC1BC,cAAgB,oBAChBC,sBAAwB,0BACxBC,aAAe,mBACfC,qBAAuB,yBACvBC,SAAW,eACXC,UAAW,gBACXC,aAAc,oBAElBC,iBAAkB,iBAClBC,OAAQ,CACJC,cAAe,mBACfC,OAAQ,aACRC,KAAM,WAINC,MAAO,qBAIXC,SAAU,MACVC,eAAgB,MAGhBC,cAAe,GACfC,cAAe,GACfC,kBAAmB,CACf,CAAEvD,EAAG,GAAIC,EAAG,IACZ,CAAED,EAAG,IAAKC,EAAG,IACb,CAAED,EAAG,KAAMC,EAAG,IACd,CAAED,EAAG,GAAIC,EAAG,KACZ,CAAED,EAAG,IAAKC,EAAG,KACb,CAAED,EAAG,KAAMC,EAAG,MAIlBuD,8BAA+B,CAAExD,EAAG,IAAKC,EAAG,KAC5CwD,2BAA4B,UAC5BC,qBAAsB,UACtBC,0BAA2B,cAC3BC,+BAAgC,MAGhCC,cAAe,GACfC,YAAa,CAAE9D,EAAG,GAAIC,EAAG,IACzB8D,yBAA0B,IAC1BC,2BAA4B,IAC5BC,kCAAmC,IAGnCC,aAAc,CAAElE,EAAG,IAAKC,EAAG,IAC3BkE,kBAAmB,CAAEnE,EAAG,IAAKC,EAAG,IAChCmE,uBAAwB,EACxBC,yBAA0B,EAC1BC,gBAAiB,GAGjBC,oBAAqB,EACrBC,mBAAoB,EACpBC,gCAAiC,EACjCC,wBAAyB,GACzBC,wBAAyB,GACzBC,iBAAkB,GAGlBC,iCAAkC,IAClCC,iCAAkC,IAClCC,uBAAwB,IACxBC,qBAAsB,IAGtBC,iBAAmB,CACfC,OAAQ,CACJ,CACIC,KAAM,iBACNC,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvBoF,KAAM,gBACNC,MAAO,QACPC,UAAW,QAEf,CACIJ,WAAW,IAAIK,MAAOC,gCACtBL,SAAU,CAAEpF,EAAG,KAAMC,EAAG,KACxBoF,KAAM,eACNC,MAAO,QACPC,UAAW,SAGnBG,QAAS,CACL,CACIC,OAAQjG,EAAAkG,eAAeC,IACvBT,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvB6F,OAAQ,qBACRC,cAAe,8BAEnB,CACIJ,OAAQjG,EAAAkG,eAAeI,YACvBrH,MAAO,EACPyG,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvB6F,OAAQ,oBACRC,cAAe,6BAEnB,CACIJ,OAAQjG,EAAAkG,eAAeK,YACvBb,SAAU,CAAEpF,EAAG,KAAMC,EAAG,IACxB6F,OAAQ,cACRC,cAAe,wBAGvBG,UAAW,CACP,CACIhB,OAAQ,CACJ,CACIC,KAAM,oBACNC,SAAU,CAAEpF,EAAG,IAAKC,EAAG,IACvBoF,KAAM,eACNC,MAAO,QACPC,UAAW,QAEf,CACIJ,WAAW,IAAIK,MAAOC,gCACtBL,SAAU,CAAEpF,EAAG,KAAMC,EAAG,KACxBoF,KAAM,eACNC,MAAO,QACPC,UAAW,SAGnBG,QAAS,CACL,CACIC,OAAQjG,EAAAkG,eAAeO,iBACvBf,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvB6F,OAAQ,cACRC,cAAe,uBAEnB,CACIJ,OAAQjG,EAAAkG,eAAeQ,IACvBhB,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvBtB,MAAO,GACPmH,OAAQ,cACRC,cAAe,uBAEnB,CACIJ,OAAQjG,EAAAkG,eAAeQ,IACvBhB,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvBtB,MAAO,GACPmH,OAAQ,gBACRC,cAAe,yBAEnB,CACIJ,OAAQjG,EAAAkG,eAAeQ,IACvBhB,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvBtB,MAAO,IACPmH,OAAQ,cACRC,cAAe,uBAEnB,CACIJ,OAAQjG,EAAAkG,eAAeQ,IACvBhB,SAAU,CAAEpF,EAAG,IAAKC,EAAG,KACvBtB,MAAO,IACPmH,OAAQ,gBACRC,cAAe,yBAEnB,CACIJ,OAAQjG,EAAAkG,eAAeK,YACvBb,SAAU,CAAEpF,EAAG,KAAMC,EAAG,IACxB6F,OAAQ,cACRC,cAAe,wBAGvBG,UAAW,MAKvBG,eAAgB,UAChBC,cAAe,UAGfC,8BAA+B,CAAEvG,EAAG,IAAKC,EAAG,OAE5CuG,UAAU,EAGVC,OAAO,EACPC,oBAAqB,GACrBC,gBAAiB,EACjBC,uBAAwB,EAAE,KAC1BC,oBAAqB,IACrBC,wBAAyB,IACzBC,uBAAwB,IACxBC,kBAAmB,IACnBC,qBAAsB,IACtBC,gCAAiC,GACjCC,kBAAmB,qBCzQvB,IAAAC,EAAiB9J,EAAQ,IAGzB+J,EAAA,iBAAAC,iBAAAlJ,iBAAAkJ,KAGAC,EAAAH,GAAAC,GAAAG,SAAA,cAAAA,GAEA/J,EAAAD,QAAA+J,iFCRA,MAAAE,EAAAnK,EAAA,GACAoK,EAAApK,EAAA,GA6GA,MAAMqK,EAA6BC,SAASC,eAAe,UACrDC,EAA0BF,SAASC,eAAe,YAC3CrK,EAAAuK,SAAW,IA7GxB,MAYIC,aACI,OAAOC,KAAKC,OAAOlI,EAGvBmI,aACI,OAAOF,KAAKC,OAAOjI,EAGvBmI,cACI,OAAOH,KAAKI,QAAQrI,EAGxBsI,cACI,OAAOL,KAAKI,QAAQpI,EAKxBsI,YAAYZ,EAA4Ba,GACpCP,KAAKQ,iBAAmBD,EACxBP,KAAKS,QAAUf,EACfM,KAAKU,SAAWV,KAAKS,QAAQE,WAAW,MACxCX,KAAKY,eAKFN,eAEH,MAAMO,EAAsBrB,EAAA9H,YAAYE,WAClCkJ,EAAuBtB,EAAA9H,YAAYG,YACnCkJ,EAAwBF,EAAsBC,EAEpD,IAAIE,EAAoBC,OAAOC,YAC3BC,EAAmBF,OAAOG,WAEGD,EAAWH,EAErBD,EACnBI,EAAWH,EAAYD,EAEvBC,EAAYG,EAAWJ,EAG3Bf,KAAKQ,iBAAiBa,MAAMC,MAAQH,EAAW,KAC/CnB,KAAKQ,iBAAiBa,MAAME,OAASP,EAAY,KACjDhB,KAAKQ,iBAAiBa,MAAMG,WAAaP,OAAOC,YAAcF,GAAa,EAAI,KAC/EhB,KAAKQ,iBAAiBa,MAAMI,YAAcR,OAAOG,WAAaD,GAAY,EAAI,KAC9EnB,KAAKQ,iBAAiBa,MAAMK,cAAgBT,OAAOC,YAAcF,GAAa,EAAI,KAClFhB,KAAKQ,iBAAiBa,MAAMM,aAAeV,OAAOG,WAAaD,GAAY,EAAI,KAC/EnB,KAAKC,OAAS,IAAIR,EAAAmC,QAAQT,EAAWN,EAAqBG,EAAYF,GAEtEd,KAAKS,QAAQa,MAAQH,EACrBnB,KAAKS,QAAQc,OAASP,EAElBhB,KAAKS,QAAQoB,eACb7B,KAAKI,QAAU,IAAIX,EAAAmC,QAAQ5B,KAAKS,QAAQqB,WAAY9B,KAAKS,QAAQsB,YAKlEzB,QACHN,KAAKU,SAASsB,UAAU,EAAG,EAAGhC,KAAKS,QAAQa,MAAOtB,KAAKS,QAAQc,QAG5DjB,UACCzC,EACAV,EAAoBsC,EAAAmC,QAAQK,KAC5BC,EAAmB,EACnBC,EAAkB1C,EAAAmC,QAAQK,MAE9BjC,KAAKU,SAAS0B,OACdpC,KAAKU,SAAS2B,MAAMrC,KAAKC,OAAOlI,EAAGiI,KAAKC,OAAOjI,GAC/CgI,KAAKU,SAAS4B,UAAUnF,EAASpF,EAAGoF,EAASnF,GAC7CgI,KAAKU,SAAS6B,OAAOL,GACrBlC,KAAKU,SAAS8B,UAAU3E,EAAQ,EAAG,EAAGA,EAAOyD,MAAOzD,EAAO0D,QAASY,EAAOpK,GAAIoK,EAAOnK,EAAG6F,EAAOyD,MAAOzD,EAAO0D,QAC9GvB,KAAKU,SAAS+B,UAIXnC,SAASpD,EAAcE,EAAaC,EAAeF,EAAmBuF,EAAoB,QAC7F1C,KAAKU,SAAS0B,OACdpC,KAAKU,SAAS2B,MAAMrC,KAAKC,OAAOlI,EAAGiI,KAAKC,OAAOjI,GAC/CgI,KAAKU,SAASiC,UAAYtF,EAC1B2C,KAAKU,SAAStD,KAAOA,EACrB4C,KAAKU,SAASgC,UAAYA,EAC1B1C,KAAKU,SAASkC,SAAS1F,EAAMC,EAASpF,EAAGoF,EAASnF,GAClDgI,KAAKU,SAAS+B,UAGXnC,aAAauC,GAChB7C,KAAKS,QAAQY,MAAMwB,OAASA,IAMWnD,EAAQG,GAEvDoB,OAAO6B,iBAAiB,SAAUvN,EAAAuK,SAASc,aAAa3J,KAAK1B,EAAAuK,4BClH7D,IAAAiD,EAAmB1N,EAAQ,IAC3B2N,EAAe3N,EAAQ,IAevBG,EAAAD,QALA,SAAA4B,EAAAH,GACA,IAAAN,EAAAsM,EAAA7L,EAAAH,GACA,OAAA+L,EAAArM,UAAAuM,kFCZA,MAAarB,EASTtB,YAAYvI,EAAWC,GACnBgI,KAAKkD,GAAKnL,EACViI,KAAKmD,GAAKnL,EAKdD,QACI,OAAOiI,KAAKkD,GAGhBlL,QACI,OAAOgI,KAAKmD,GAGhBlB,kBACI,OAAO,IAAIL,EAAQ,EAAG,GAG1BwB,aACI,OAAOC,KAAKC,KAAKD,KAAKE,IAAIvD,KAAKkD,GAAI,GAAKG,KAAKE,IAAIvD,KAAKmD,GAAI,IAKvD7C,YAAYkD,GACf,OAAO,IAAI5B,EAAQ4B,EAAOzL,EAAGyL,EAAOxL,GAGjCsI,KAAKvI,GACR,OAAO,IAAI6J,EAAQ5B,KAAKkD,GAAIlD,KAAKmD,IAAIM,OAAO1L,GAGzCuI,KAAKtI,GACR,OAAO,IAAI4J,EAAQ5B,KAAKkD,GAAIlD,KAAKmD,IAAIO,OAAO1L,GAGzCsI,OAAOvI,GAEV,OADAiI,KAAKkD,IAAMnL,EACJiI,KAGJM,OAAOtI,GAEV,OADAgI,KAAKmD,IAAMnL,EACJgI,KAGJM,MAAMkD,GACT,OAAOxD,KAAKyD,OAAOD,EAAOzL,GAAG2L,OAAOF,EAAOxL,GAGxCsI,IAAIkD,GACP,OAAO,IAAI5B,EAAQ5B,KAAKkD,GAAIlD,KAAKmD,IAAIQ,MAAMH,GAGxClD,WAAWkD,GAGd,OAFAxD,KAAKkD,IAAMM,EAAOzL,EAClBiI,KAAKmD,IAAMK,EAAOxL,EACXgI,KAGJM,SAASkD,GACZ,OAAO,IAAI5B,EAAQ5B,KAAKkD,GAAIlD,KAAKmD,IAAIS,WAAWJ,GAG7ClD,KAAKuD,GACR,OAAO,IAAIjC,EAAQ5B,KAAKkD,GAAIlD,KAAKmD,IAAIW,OAAOD,GAGzCvD,OAAOuD,GAGV,OAFA7D,KAAKkD,IAAMW,EACX7D,KAAKmD,IAAMU,EACJ7D,KAGJM,IAAIkD,GACP,OAAOxD,KAAKkD,GAAKM,EAAOzL,EAAIiI,KAAKmD,GAAKK,EAAOxL,EAG1CsI,SAASkD,GACZ,OAAOxD,KAAK+D,SAASP,GAAQJ,QAzFrC7N,EAAAqM,yFCDA,MAAApC,EAAAnK,EAAA,GAmEaE,EAAAyO,OAAS,IAjEtB,MAKI1D,cACIN,KAAKiE,SAAW,IAAIC,IACpBlE,KAAKmE,QAAU,IAAID,IAGhB5D,6BACGN,KAAKoE,wBACLpE,KAAKqE,iBAGR/D,UAAUtJ,GACb,OAAOgJ,KAAKiE,SAAS3N,IAAIU,GAGtBsJ,SAAStJ,GACZ,OAAOgJ,KAAKmE,QAAQ7N,IAAIU,GAAKsN,WAAU,GAGpChE,UAAUtJ,EAAauN,GAC1B,GAAG/E,EAAA9H,YAAY6G,SAAU,CACrB,MAAMiG,EAAQxE,KAAKyE,SAASzN,GAC5BwN,EAAMD,OAASA,EACfC,EAAME,QAINpE,WAAWqE,GACf,MAAMC,EAAM,IAAIC,MAGhB,OAFA7E,KAAKiE,SAASa,IAAIH,EAAMC,GAEjB,IAAIG,QAAQC,IACfJ,EAAIK,OAAS,KAAMD,KACnBJ,EAAIM,IAAM1F,EAAA9H,YAAYgB,kBAAoBiM,IAI1CrE,wBACJ,MAAM6E,EAAehP,OAAOiP,OAAO5F,EAAA9H,YAAYiB,SAAS0M,IAAIrF,KAAKsF,WAAWrO,KAAK+I,aAE3E+E,QAAQQ,IAAIJ,GAGd7E,UAAUqE,GACd,MAAMa,EAA0B,IAAIC,MAGpC,OAFAzF,KAAKmE,QAAQW,IAAIH,EAAMa,GAEhB,IAAIT,QAAQC,IACfQ,EAAMN,IAAM1F,EAAA9H,YAAYkD,iBAAmB+J,EAC3CK,MAIA1E,uBACJ,MAAM6E,EAAehP,OAAOiP,OAAO5F,EAAA9H,YAAYmD,QAAQwK,IAAIrF,KAAK0F,UAAUzO,KAAK+I,aAEzE+E,QAAQQ,IAAIJ,oBChC1B3P,EAAAD,QALA,SAAAmB,GACA,IAAAiP,SAAAjP,EACA,aAAAA,IAAA,UAAAiP,GAAA,YAAAA,mBCCAnQ,EAAAD,QAJA,SAAAmB,GACA,aAAAA,GAAA,iBAAAA,kFCzBA,MAAAkP,EAAAvQ,EAAA,IACAwQ,EAAAxQ,EAAA,GACAoK,EAAApK,EAAA,GAsDaE,EAAAuQ,MAAQ,IApDrB,MASIxF,cAPQN,KAAA+F,cAA+B,GASnC,IAAI,IAAItQ,EAAI,EAAIA,EAAI,EAAIA,IACpBuK,KAAK+F,cAActQ,GAAK,IAAImQ,EAAAI,YAGhChG,KAAKiG,UAAYxG,EAAAmC,QAAQK,KAEzBtC,SAASmD,iBAAiB,YAAcoD,GAAUlG,KAAKmG,gBAAgBD,IACvEvG,SAASmD,iBAAiB,YAAcoD,GAAUlG,KAAKoG,gBAAgBF,IACvEvG,SAASmD,iBAAiB,UAAYoD,GAAUlG,KAAKqG,cAAcH,IAdvE/I,eACI,OAAOsC,EAAAmC,QAAQ0E,KAAKtG,KAAKiG,WAgBrB3F,gBAAgB4F,GACpB,MAAMK,GAAkBL,EAAMM,MAAQX,EAAA/F,SAASK,SAAW0F,EAAA/F,SAASC,OAC7D0G,GAAkBP,EAAMQ,MAAQb,EAAA/F,SAASO,SAAWwF,EAAA/F,SAASI,OACnEF,KAAKiG,UAAY,IAAIxG,EAAAmC,QAAQ2E,EAAQE,GAGjCnG,gBAAgB4F,GACpBlG,KAAK+F,cAAcG,EAAMS,QAAQC,MAAO,EACxC5G,KAAK+F,cAAcG,EAAMS,QAAQE,SAAU,EAGvCvG,cAAc4F,GAClBlG,KAAK+F,cAAcG,EAAMS,QAAQC,MAAO,EAGrCtG,QACH,IAAI,IAAI7K,EAAI,EAAIA,EAAI,EAAIA,IACpBuK,KAAK+F,cAActQ,GAAGoR,SAAU,EAIjCvG,OAAOqG,GACV,OAAO3G,KAAK+F,cAAcY,GAAQC,KAG/BtG,UAAUqG,GACb,OAAO3G,KAAK+F,cAAcY,GAAQE,2BCpD1C,IAAAC,EAAqBzR,EAAQ,IAC7B0R,EAAsB1R,EAAQ,IAC9B2R,EAAmB3R,EAAQ,IAC3B4R,EAAmB5R,EAAQ,IAC3B6R,EAAmB7R,EAAQ,IAS3B,SAAA8R,EAAAC,GACA,IAAAC,GAAA,EACAjE,EAAA,MAAAgE,EAAA,EAAAA,EAAAhE,OAGA,IADApD,KAAAsH,UACAD,EAAAjE,GAAA,CACA,IAAAmE,EAAAH,EAAAC,GACArH,KAAA8E,IAAAyC,EAAA,GAAAA,EAAA,KAKAJ,EAAA9P,UAAAiQ,MAAAR,EACAK,EAAA9P,UAAA,OAAA0P,EACAI,EAAA9P,UAAAf,IAAA0Q,EACAG,EAAA9P,UAAAmQ,IAAAP,EACAE,EAAA9P,UAAAyN,IAAAoC,EAEA1R,EAAAD,QAAA4R,mBC/BA,IAAAM,EAASpS,EAAQ,IAoBjBG,EAAAD,QAVA,SAAAmS,EAAA1Q,GAEA,IADA,IAAAoM,EAAAsE,EAAAtE,OACAA,KACA,GAAAqE,EAAAC,EAAAtE,GAAA,GAAApM,GACA,OAAAoM,EAGA,2BCjBA,IAAA5M,EAAanB,EAAQ,IACrBsS,EAAgBtS,EAAQ,IACxBuS,EAAqBvS,EAAQ,IAG7BwS,EAAA,gBACAC,EAAA,qBAGAC,EAAAvR,IAAAC,iBAAAwM,EAkBAzN,EAAAD,QATA,SAAAmB,GACA,aAAAA,OACAuM,IAAAvM,EAAAoR,EAAAD,EAEAE,QAAA5R,OAAAO,GACAiR,EAAAjR,GACAkR,EAAAlR,qBCxBA,IAGAsR,EAHgB3S,EAAQ,EAGxB4S,CAAA9R,OAAA,UAEAX,EAAAD,QAAAyS,mBCLA,IAAAE,EAAgB7S,EAAQ,IAiBxBG,EAAAD,QAPA,SAAA8P,EAAArO,GACA,IAAAmR,EAAA9C,EAAA+C,SACA,OAAAF,EAAAlR,GACAmR,EAAA,iBAAAnR,EAAA,iBACAmR,EAAA9C,sBCdA,IAAAgD,EAAkBhT,EAAQ,IAC1BiT,EAAsBjT,EAAQ,IAsC9BG,EAAAD,QA1BA,SAAAgT,EAAAC,EAAArR,EAAAsR,GACA,IAAAC,GAAAvR,EACAA,MAAA,IAKA,IAHA,IAAAkQ,GAAA,EACAjE,EAAAoF,EAAApF,SAEAiE,EAAAjE,GAAA,CACA,IAAApM,EAAAwR,EAAAnB,GAEAsB,EAAAF,EACAA,EAAAtR,EAAAH,GAAAuR,EAAAvR,KAAAG,EAAAoR,QACAtF,OAEAA,IAAA0F,IACAA,EAAAJ,EAAAvR,IAEA0R,EACAJ,EAAAnR,EAAAH,EAAA2R,GAEAN,EAAAlR,EAAAH,EAAA2R,GAGA,OAAAxR,oBCpCA,IAIA+M,EAJgB7O,EAAQ,EAIxB4S,CAHW5S,EAAQ,GAGnB,OAEAG,EAAAD,QAAA2O,mBCNA,IAGA1N,EAHWnB,EAAQ,GAGnBmB,OAEAhB,EAAAD,QAAAiB,mBCLA,IAAAoS,EAAoBvT,EAAQ,IAC5BwT,EAAexT,EAAQ,IACvByT,EAAkBzT,EAAQ,IAkC1BG,EAAAD,QAJA,SAAA4B,GACA,OAAA2R,EAAA3R,GAAAyR,EAAAzR,GAAA0R,EAAA1R,mBCVA,IAAA4R,EAAAC,MAAAD,QAEAvT,EAAAD,QAAAwT,iBCzBAvT,EAAAD,QAAA,SAAAC,GAoBA,OAnBAA,EAAAyT,kBACAzT,EAAA0T,UAAA,aACA1T,EAAA2T,MAAA,GAEA3T,EAAA4T,WAAA5T,EAAA4T,SAAA,IACAjT,OAAAC,eAAAZ,EAAA,UACAa,YAAA,EACAC,IAAA,WACA,OAAAd,EAAAE,KAGAS,OAAAC,eAAAZ,EAAA,MACAa,YAAA,EACAC,IAAA,WACA,OAAAd,EAAAC,KAGAD,EAAAyT,gBAAA,GAEAzT,kBCPAA,EAAAD,QANA,SAAA8T,GACA,gBAAA3S,GACA,OAAA2S,EAAA3S,uBCTA,SAAAlB,GAAA,IAAA2J,EAAiB9J,EAAQ,IAGzBiU,EAA4C/T,MAAAgU,UAAAhU,EAG5CiU,EAAAF,GAAA,iBAAA9T,SAAA+T,UAAA/T,EAMAiU,EAHAD,KAAAjU,UAAA+T,GAGAnK,EAAAuK,QAGAC,EAAA,WACA,IAEA,IAAAC,EAAAJ,KAAAK,SAAAL,EAAAK,QAAA,QAAAD,MAEA,OAAAA,GAKAH,KAAAK,SAAAL,EAAAK,QAAA,QACG,MAAAC,KAXH,GAcAvU,EAAAD,QAAAoU,uCC5BA,IAAAK,EAAA7T,OAAAkB,UAgBA7B,EAAAD,QAPA,SAAAmB,GACA,IAAAuT,EAAAvT,KAAAwT,YAGA,OAAAxT,KAFA,mBAAAuT,KAAA5S,WAAA2S,qBCZA,IAAAG,EAAkB9U,EAAQ,KAC1B+U,EAAgB/U,EAAQ,IAMxBgV,EAHAlU,OAAAkB,UAGAgT,qBAGAC,EAAAnU,OAAAoU,sBASAC,EAAAF,EAAA,SAAAnT,GACA,aAAAA,EACA,IAEAA,EAAAhB,OAAAgB,GACAgT,EAAAG,EAAAnT,GAAA,SAAAsT,GACA,OAAAJ,EAAAzU,KAAAuB,EAAAsT,OANAL,EAUA5U,EAAAD,QAAAiV,mBC7BA,IAAAE,EAAerV,EAAQ,KACvB6O,EAAU7O,EAAQ,IAClB0P,EAAc1P,EAAQ,KACtBsV,EAAUtV,EAAQ,KAClBuV,EAAcvV,EAAQ,KACtBwV,EAAiBxV,EAAQ,IACzByV,EAAezV,EAAQ,IAYvB0V,EAAAD,EAAAJ,GACAM,EAAAF,EAAA5G,GACA+G,EAAAH,EAAA/F,GACAmG,EAAAJ,EAAAH,GACAQ,EAAAL,EAAAF,GASAQ,EAAAP,GAGAH,GAnBA,qBAmBAU,EAAA,IAAAV,EAAA,IAAAW,YAAA,MACAnH,GA1BA,gBA0BAkH,EAAA,IAAAlH,IACAa,GAzBA,oBAyBAqG,EAAArG,EAAAC,YACA2F,GAzBA,gBAyBAS,EAAA,IAAAT,IACAC,GAzBA,oBAyBAQ,EAAA,IAAAR,MACAQ,EAAA,SAAA1U,GACA,IAAA4U,EAAAT,EAAAnU,GACAuT,EA/BA,mBA+BAqB,EAAA5U,EAAAwT,iBAAAjH,EACAsI,EAAAtB,EAAAa,EAAAb,GAAA,GAEA,GAAAsB,EACA,OAAAA,GACA,KAAAR,EAAA,MA/BA,oBAgCA,KAAAC,EAAA,MAtCA,eAuCA,KAAAC,EAAA,MArCA,mBAsCA,KAAAC,EAAA,MArCA,eAsCA,KAAAC,EAAA,MArCA,mBAwCA,OAAAG,IAIA9V,EAAAD,QAAA6V,mBCzDA,IAAAI,EAAiBnW,EAAQ,KAezBG,EAAAD,QANA,SAAAkW,GACA,IAAAH,EAAA,IAAAG,EAAAvB,YAAAuB,EAAAC,YAEA,OADA,IAAAF,EAAAF,GAAAxG,IAAA,IAAA0G,EAAAC,IACAH,kFCXA,SAAYK,GACRA,EAAA,gBACAA,EAAA,gBACAA,EAAA,cACAA,EAAA,iBAJJ,CAAYpW,EAAAoW,QAAApW,EAAAoW,MAAK,oFCDjB,MAAAlM,EAAApK,EAAA,GACAmK,EAAAnK,EAAA,GAEAuW,EAAAvW,EAAA,IACAwW,EAAAxW,EAAA,IACAyW,EAAAzW,EAAA,IACA0W,EAAA1W,EAAA,GAEA,MAAa2W,EAeT1L,cARQN,KAAAiM,WAAqB,EACrBjM,KAAAkM,kBAA4B,EAQhClM,KAAKmM,QAAU,IAAIN,EAAAO,SALvBC,sBACI,OAAOrM,KAAKkM,iBAOR5L,kBAGJ,IACIgM,EAAM7M,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYQ,mBAEnC,MAAO8H,KAAKuM,kBAAkBC,yBAAyBF,IACnDG,QAAQC,IAAIJ,GACZA,EAAI7I,OALM,GAQdzD,KAAKuM,kBAAkBI,gBAAgBL,GAGnChM,OACJN,KAAK4M,WAAa,GAClB5M,KAAK6M,iBAAmB7M,KAAK8M,uBAC7B9M,KAAK+M,cAAgB/M,KAAK6M,iBAC1B7M,KAAKiM,WAAa,EAGd3L,eAAe0M,GACnB,IAAIC,EAAWD,EAASE,MAGxBD,GADAA,GADAA,GAA6B,EAAhB5J,KAAK8J,SAAe3N,EAAA9H,YAAYuH,gCAAmCO,EAAA9H,YAAYuH,iCACtEO,EAAA9H,YAAYwH,kBAAoBM,EAAA9H,YAAYwH,kBAAoB+N,GAChEzN,EAAA9H,YAAY2E,gBAAkBmD,EAAA9H,YAAY2E,gBAAkB4Q,EAElF,IAAIG,EAAcJ,EAAS9K,SAS3B,OAPG8K,EAASK,WAAa,EACrBD,GAAgB,EAAIJ,EAASK,YAA6B,EAAhBhK,KAAK8J,SAAe9J,KAAKiK,GAAKjK,KAAKiK,IAG7EF,EAA+B,EAAhB/J,KAAK8J,SAAe9J,KAAKiK,GAAKjK,KAAKiK,GAG/C,IAAI1B,EAAA2B,WAAWN,EAAUG,GAG5B9M,uBACJ,MAAM4M,EAAiC,GAAhB7J,KAAK8J,SAAgB,EACtCjL,EAAoC,EAAhBmB,KAAK8J,SAAe9J,KAAKiK,GAEnD,OAAO,IAAI1B,EAAA2B,WAAWL,EAAOhL,GAGzB5B,QAEJ,GAAGN,KAAKiM,aAAezM,EAAA9H,YAAY+G,oBAG/B,OAFAuB,KAAKwN,gBACLxN,KAAKkM,kBAAmB,GAI5B,GAAGlM,KAAKyN,WAAWC,cAAe,OAClC1N,KAAKyN,WAAWE,eAEhB3N,KAAK6M,iBAAiBQ,WAAarN,KAAKmM,QAAQyB,SAAS5N,KAAKyN,YAE9D,MAAMI,EAAsB,IAAIjC,EAAA2B,WAC5BvN,KAAK6M,iBAAiBK,MACtBlN,KAAK6M,iBAAiB3K,SACtBlC,KAAK6M,iBAAiBQ,YAE1BrN,KAAK4M,WAAWkB,KAAKD,GAElBA,EAAQR,WAAarN,KAAK+M,cAAcM,aACvCrN,KAAK+M,cAAgBc,GAGtBrO,EAAA9H,YAAYC,MACX8U,QAAQC,IAAI,gBAAgB,IAAIqB,OAAO/N,KAAKiM,WAAW,GAAG,wBAC1DQ,QAAQC,IAAI,uBAAyB1M,KAAK6M,iBAAiBQ,YAC3DZ,QAAQC,IAAI,kBAAoB1M,KAAK6M,iBAAiBK,OACtDT,QAAQC,IAAI,qBAAuB1M,KAAK6M,iBAAiB3K,UACzDuK,QAAQC,IAAI,sCAGhB1M,KAAKyN,WAAa3B,EAAU9L,KAAKuM,mBACjCvM,KAAK6M,iBAAmB7M,KAAKgO,mBAC7BhO,KAAKiM,aACLjM,KAAKiO,WAGF3N,mBACH,OAAGN,KAAKiM,WAAa,IAAO,EACjBjM,KAAK8M,uBAGL9M,KAAKkO,eAAelO,KAAK+M,eAIjCzM,WACHN,KAAKuM,kBAAkB4B,aAAanO,KAAK+M,cAAcG,MAAOlN,KAAK+M,cAAc7K,UAG9E5B,WACHN,KAAKyN,WAAWU,aAAanO,KAAK6M,iBAAiBK,MAAOlN,KAAK6M,iBAAiB3K,UAG7E5B,uBAGH,IAFAd,EAAA9H,YAAY6G,UAAW,GAEhByB,KAAKkM,kBACRlM,KAAKoO,QACLpO,KAAKyN,WAAWY,SAGpBtC,EAAAjG,MAAMwI,QAIHhO,aAAaiO,GAChBvO,KAAKuM,kBAAoBgC,EACtBvO,KAAKyN,WAAWe,cACfxO,KAAK2M,kBAET3M,KAAKyN,WAAa3B,EAAUyC,GAC5BvO,KAAKyO,OACLzO,KAAKkM,kBAAmB,EAExBlM,KAAKiO,WACLjO,KAAK0O,wBA9IbnZ,EAAAyW,YAkJazW,EAAAoZ,GAAK,IAAI3C,iFCzJtB,SAAYrO,GACRA,IAAA,uBACAA,IAAA,aACAA,IAAA,aACAA,IAAA,6BACAA,IAAA,6BACAA,IAAA,uCANJ,CAAYpI,EAAAoI,iBAAApI,EAAAoI,eAAc,oBCmC1BnI,EAAAD,QAJA,SAAAmB,EAAAkY,GACA,OAAAlY,IAAAkY,GAAAlY,MAAAkY,uBCjCA,IAAA/D,EAAiBxV,EAAQ,IACzBwZ,EAAexZ,EAAQ,GAGvByZ,EAAA,yBACAC,EAAA,oBACAC,EAAA,6BACAC,EAAA,iBA6BAzZ,EAAAD,QAVA,SAAAmB,GACA,IAAAmY,EAAAnY,GACA,SAIA,IAAAwY,EAAArE,EAAAnU,GACA,OAAAwY,GAAAH,GAAAG,GAAAF,GAAAE,GAAAJ,GAAAI,GAAAD,qBCjCA,SAAAE,GACA,IAAAhQ,EAAA,iBAAAgQ,QAAAhZ,iBAAAgZ,EAEA3Z,EAAAD,QAAA4J,oCCFA,IAGAiQ,EAHA7P,SAAAlI,UAGAgY,SAqBA7Z,EAAAD,QAZA,SAAA8T,GACA,SAAAA,EAAA,CACA,IACA,OAAA+F,EAAAxZ,KAAAyT,GACK,MAAAU,IACL,IACA,OAAAV,EAAA,GACK,MAAAU,KAEL,2BCtBA,IAAAzB,EAAsBjT,EAAQ,IAC9BoS,EAASpS,EAAQ,IAMjBiC,EAHAnB,OAAAkB,UAGAC,eAoBA9B,EAAAD,QARA,SAAA4B,EAAAH,EAAAN,GACA,IAAA4Y,EAAAnY,EAAAH,GACAM,EAAA1B,KAAAuB,EAAAH,IAAAyQ,EAAA6H,EAAA5Y,UACAuM,IAAAvM,GAAAM,KAAAG,IACAmR,EAAAnR,EAAAH,EAAAN,qBCvBA,IAAAN,EAAqBf,EAAQ,IAwB7BG,EAAAD,QAbA,SAAA4B,EAAAH,EAAAN,GACA,aAAAM,GAAAZ,EACAA,EAAAe,EAAAH,EAAA,CACAuY,cAAA,EACAlZ,YAAA,EACAK,QACA8Y,UAAA,IAGArY,EAAAH,GAAAN,oBCpBA,IAAA+Y,EAAgBpa,EAAQ,IACxBqa,EAAkBra,EAAQ,IAC1B0T,EAAc1T,EAAQ,IACtBsa,EAAeta,EAAQ,IACvBua,EAAcva,EAAQ,IACtBwa,EAAmBxa,EAAQ,IAM3BiC,EAHAnB,OAAAkB,UAGAC,eAqCA9B,EAAAD,QA3BA,SAAAmB,EAAAoZ,GACA,IAAAC,EAAAhH,EAAArS,GACAsZ,GAAAD,GAAAL,EAAAhZ,GACAuZ,GAAAF,IAAAC,GAAAL,EAAAjZ,GACAwZ,GAAAH,IAAAC,IAAAC,GAAAJ,EAAAnZ,GACAyZ,EAAAJ,GAAAC,GAAAC,GAAAC,EACA5E,EAAA6E,EAAAV,EAAA/Y,EAAA0M,OAAAgN,QAAA,GACAhN,EAAAkI,EAAAlI,OAEA,QAAApM,KAAAN,GACAoZ,IAAAxY,EAAA1B,KAAAc,EAAAM,IACAmZ,IAEA,UAAAnZ,GAEAiZ,IAAA,UAAAjZ,GAAA,UAAAA,IAEAkZ,IAAA,UAAAlZ,GAAA,cAAAA,GAAA,cAAAA,IAEA4Y,EAAA5Y,EAAAoM,KAEAkI,EAAAwC,KAAA9W,GAGA,OAAAsU,qBC7CA,SAAA9V,GAAA,IAAA8J,EAAWjK,EAAQ,GACnBgb,EAAgBhb,EAAQ,IAGxBiU,EAA4C/T,MAAAgU,UAAAhU,EAG5CiU,EAAAF,GAAA,iBAAA9T,SAAA+T,UAAA/T,EAMA8a,EAHA9G,KAAAjU,UAAA+T,EAGAhK,EAAAgR,YAAArN,EAsBA0M,GAnBAW,IAAAX,cAAA1M,IAmBAoN,EAEA7a,EAAAD,QAAAoa,uCCpCA,IAAAY,EAAA,iBAiCA/a,EAAAD,QALA,SAAAmB,GACA,uBAAAA,GACAA,GAAA,GAAAA,EAAA,MAAAA,GAAA6Z,kBCjBA/a,EAAAD,QANA,SAAA8T,EAAAmH,GACA,gBAAAC,GACA,OAAApH,EAAAmH,EAAAC,uBCVA,IAAAC,EAAiBrb,EAAQ,IACzBsb,EAAetb,EAAQ,IA+BvBG,EAAAD,QAJA,SAAAmB,GACA,aAAAA,GAAAia,EAAAja,EAAA0M,UAAAsN,EAAAha,qBC7BA,IAAAkS,EAAoBvT,EAAQ,IAC5Bub,EAAiBvb,EAAQ,IACzByT,EAAkBzT,EAAQ,IA6B1BG,EAAAD,QAJA,SAAA4B,GACA,OAAA2R,EAAA3R,GAAAyR,EAAAzR,GAAA,GAAAyZ,EAAAzZ,mBCNA3B,EAAAD,QAJA,WACA,2BCnBA,IAAAsb,EAAgBxb,EAAQ,IACxByb,EAAmBzb,EAAQ,IAC3BmV,EAAiBnV,EAAQ,IACzB+U,EAAgB/U,EAAQ,IAYxB0b,EATA5a,OAAAoU,sBASA,SAAApT,GAEA,IADA,IAAAmU,EAAA,GACAnU,GACA0Z,EAAAvF,EAAAd,EAAArT,IACAA,EAAA2Z,EAAA3Z,GAEA,OAAAmU,GANAlB,EASA5U,EAAAD,QAAAwb,iBCLAvb,EAAAD,QAXA,SAAAmS,EAAAtC,GAKA,IAJA,IAAAiC,GAAA,EACAjE,EAAAgC,EAAAhC,OACA4N,EAAAtJ,EAAAtE,SAEAiE,EAAAjE,GACAsE,EAAAsJ,EAAA3J,GAAAjC,EAAAiC,GAEA,OAAAK,oBChBA,IAGAoJ,EAHczb,EAAQ,GAGtB4b,CAAA9a,OAAA+a,eAAA/a,QAEAX,EAAAD,QAAAub,mBCLA,IAAAD,EAAgBxb,EAAQ,IACxB0T,EAAc1T,EAAQ,IAkBtBG,EAAAD,QALA,SAAA4B,EAAAga,EAAAC,GACA,IAAA9F,EAAA6F,EAAAha,GACA,OAAA4R,EAAA5R,GAAAmU,EAAAuF,EAAAvF,EAAA8F,EAAAja,oFCfA5B,EAAAyQ,YAAA,MAKI1F,cAHON,KAAA4G,MAAO,EACP5G,KAAA6G,SAAU,mFCHRtR,EAAA8b,SAAW,EAACC,EAAaC,EAAgBC,EAAgBC,EAAiBC,KACnF,IAAIhb,GAAiB4a,EAAMC,IAAWG,EAAUD,IAAYD,EAASD,GAAUE,EAG/E,OADA/a,GADAA,EAASA,EAAQ+a,EAAUA,EAAU/a,GACrBgb,EAAUA,EAAUhb,mFCJxC,MAAAkP,EAAAvQ,EAAA,IA+CaE,EAAAoc,SAAW,IA7CxB,MAQIrR,cAJAN,KAAA4R,WAA6B,GAKzB,IAAI,IAAInc,EAAI,EAAIA,EAAI,IAAMA,IACtBuK,KAAK4R,WAAWnc,GAAM,IAAImQ,EAAAI,YAG9BrG,SAASmD,iBAAiB,QAAUoD,GAAUlG,KAAK6R,YAAY3L,IAC/DvG,SAASmD,iBAAiB,UAAYoD,GAAUlG,KAAK8R,cAAc5L,IAK/D5F,YAAY4F,GAChBlG,KAAK4R,WAAW1L,EAAM6L,SAASnL,MAAO,EAGlCtG,cAAc4F,GAClBlG,KAAK4R,WAAW1L,EAAM6L,SAASlL,SAAU,EACzC7G,KAAK4R,WAAW1L,EAAM6L,SAASnL,MAAO,EAKnCtG,QACH,IAAI,IAAI7K,EAAI,EAAIA,EAAI,IAAMA,IACtBuK,KAAK4R,WAAWnc,GAAGoR,SAAU,EAI9BvG,OAAOyR,GACV,OAAO/R,KAAK4R,WAAWG,GAASnL,KAG7BtG,UAAUyR,GACb,OAAO/R,KAAK4R,WAAWG,GAASlL,yFC3CxC,MAAAmL,EAAA3c,EAAA,IACA4c,EAAA5c,EAAA,KACA6c,EAAA7c,EAAA,KACA8c,EAAA9c,EAAA,KACA+c,EAAA/c,EAAA,KACAgd,EAAAhd,EAAA,KAEAmK,EAAAnK,EAAA,GACAoC,EAAApC,EAAA,IACAid,EAAAjd,EAAA,KACAkd,EAAAld,EAAA,GACAmd,EAAAnd,EAAA,KACAod,EAAApd,EAAA,IACAwQ,EAAAxQ,EAAA,GACA0W,EAAA1W,EAAA,GAEA,MAAaqd,EAAbpS,cAEYN,KAAA2S,eAAyB,GACzB3S,KAAA4S,MAAc,IAAIN,EAAAO,KAKlBvS,kBACJN,KAAK8S,gBAAkB,IAAI5O,IAC3BlE,KAAK8S,gBAAgBhO,IAAIrN,EAAAkG,eAAeC,IAAK,IAAIyU,EAAAU,WAAW/S,OAC5DA,KAAK8S,gBAAgBhO,IAAIrN,EAAAkG,eAAeQ,IAAK,IAAIiU,EAAAY,WAAWhT,OAC5DA,KAAK8S,gBAAgBhO,IAAIrN,EAAAkG,eAAeK,YAAa,IAAImU,EAAAc,oBACzDjT,KAAK8S,gBAAgBhO,IAAIrN,EAAAkG,eAAeI,YAAa,IAAImU,EAAAgB,mBAAmBlT,OAC5EA,KAAK8S,gBAAgBhO,IAAIrN,EAAAkG,eAAeO,iBAAkB,IAAI+T,EAAAkB,wBAAwBnT,OAGlFM,eACJN,KAAK4S,MAAMnE,KAAKzO,KAAK8S,gBAAiBtT,EAAA9H,YAAYsF,kBAG/CsD,mBACGiS,EAAAvO,OAAOoP,iBAEbpT,KAAKqT,kBACLrT,KAAKsT,eACLtT,KAAK4S,MAAMW,QAAS,EACpBvT,KAAKwT,UAAY,IAAIhB,EAAAiB,UACrBzT,KAAK0T,WAGFpT,YAAY+G,GACfsM,WAAW,KACJ3T,KAAK4S,QACJ5S,KAAK4S,MAAMW,QAAS,EACpBvT,KAAK2S,eAAe7E,KAAK9N,KAAK4S,QAElC5S,KAAK4S,MAAQ5S,KAAK4S,MAAMgB,WAAWvM,GACnCrH,KAAK4S,MAAMW,QAAS,GACrB/T,EAAA9H,YAAYmc,0BAGZvT,mBACAN,KAAK2S,eAAevP,OAAS,GAC5BuQ,WAAW,KACP3T,KAAK4S,MAAMW,QAAS,EACpBvT,KAAK4S,MAAQ5S,KAAK2S,eAAemB,MACjC9T,KAAK4S,MAAMW,QAAS,GACrB/T,EAAA9H,YAAYmc,0BAIhBvT,QACHN,KAAK+T,uBAAuBC,KAAK,KAC7BhU,KAAK4S,MAAMW,QAAS,EACpBvT,KAAKiU,SAAU,EACfjU,KAAKwT,UAAY,IAAIhB,EAAAiB,UACrBzT,KAAKwT,UAAUU,cAIf5T,uBACJ,OAAO,IAAIyE,QAASC,IAChBhF,KAAKmU,YAAa,EAClBtO,EAAA/F,SAASwH,QACTzB,EAAA/F,SAAS0C,UACL+P,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQ8B,UACrC+E,EAAA9H,YAAY4G,+BAEhBqV,WAAW,KACP3T,KAAKmU,YAAa,EAClBnP,KACDxF,EAAA9H,YAAYoF,0BAIfwD,cACDN,KAAKiU,SAAWxB,EAAAd,SAAS0C,UAAU7U,EAAA9H,YAAYiF,oBAC3CqD,KAAK4S,MAAMW,OACVvT,KAAK4S,MAAMW,QAAS,GAGpBvT,KAAKsT,eACLtT,KAAK4S,MAAMW,QAAS,IAKxBjT,SACAN,KAAKmU,aACTnU,KAAKsU,cACLtU,KAAK4S,MAAMW,OAASvT,KAAK4S,MAAMvE,SAAWrO,KAAKwT,UAAUnF,SACzDoE,EAAAd,SAASrD,QACTvC,EAAAjG,MAAMwI,SAGFhO,OACAN,KAAKmU,YACNnC,EAAArD,GAAGtC,kBACFxG,EAAA/F,SAASwH,QACTtH,KAAK4S,MAAMW,OAASvT,KAAK4S,MAAM2B,OAASvU,KAAKwT,UAAUe,QAIvDjU,WACJN,KAAKqO,SACLrO,KAAKuU,OACLtT,OAAOuT,sBAAsB,KACzBxU,KAAK0T,cA5GjBne,EAAAmd,QAkHa,IAAIA,GACZjE,sFCnILlZ,EAAAgY,WAAA,MAEIjN,YAAmB4M,EAAgB,GAChBhL,EAAmB,EACnBmL,EAAqB,GAFrBrN,KAAAkN,QACAlN,KAAAkC,WACAlC,KAAAqN,8FCJvB,MAAA7N,EAAAnK,EAAA,GAGAE,EAAA6W,SAAA,MAEI9L,eAEOA,SAASiO,GAEZ,IAAIlB,EAAqB,EAEzB,IAAK,IAAI5X,EAAI,EAAIA,EAAI8Y,EAAUkG,MAAMrR,OAAQ3N,IACzC,IAAI,IAAIif,EAAIjf,EAAI,EAAIif,EAAInG,EAAUkG,MAAMrR,OAASsR,IAAI,CAEjD,IAAIC,EAAYpG,EAAUkG,MAAMhf,GAC5Bmf,EAAarG,EAAUkG,MAAMC,GAEjCrH,GAAcsH,EAAUxX,SAAS0X,SAASD,EAAWzX,UAAYqC,EAAA9H,YAAYiH,uBAoBrF,OAhBI4P,EAAUuG,aACVzH,GAAc7N,EAAA9H,YAAYkH,oBAC1ByO,GAAc7N,EAAA9H,YAAYmH,wBAA0B0P,EAAUwG,yBAE1DxG,EAAUyG,aACV3H,GAAc7N,EAAA9H,YAAYqH,qBAI9BsO,GAA0B7N,EAAA9H,YAAYoH,uBAElCyP,EAAUyG,aACV3H,GAAc7N,EAAA9H,YAAYsH,uBAI3BqO,qBCrCf,IAAA4H,EAAgB5f,EAAQ,IAGxB6f,EAAA,EACAC,EAAA,EAwBA3f,EAAAD,QAJA,SAAAmB,GACA,OAAAue,EAAAve,EAAAwe,EAAAC,qBCzBA,IAAAC,EAAY/f,EAAQ,IACpBggB,EAAgBhgB,EAAQ,IACxBgT,EAAkBhT,EAAQ,IAC1BigB,EAAiBjgB,EAAQ,IACzBkgB,EAAmBlgB,EAAQ,IAC3BmgB,EAAkBngB,EAAQ,KAC1BogB,EAAgBpgB,EAAQ,KACxBqgB,EAAkBrgB,EAAQ,KAC1BsgB,EAAoBtgB,EAAQ,KAC5BugB,EAAiBvgB,EAAQ,KACzBwgB,EAAmBxgB,EAAQ,KAC3B+V,EAAa/V,EAAQ,IACrBygB,EAAqBzgB,EAAQ,KAC7B0gB,EAAqB1gB,EAAQ,KAC7B2gB,EAAsB3gB,EAAQ,KAC9B0T,EAAc1T,EAAQ,IACtBsa,EAAeta,EAAQ,IACvB4gB,EAAY5gB,EAAQ,KACpBwZ,EAAexZ,EAAQ,GACvB6gB,EAAY7gB,EAAQ,KACpB8gB,EAAW9gB,EAAQ,IAGnB6f,EAAA,EACAkB,EAAA,EACAjB,EAAA,EAGAkB,EAAA,qBAKAtH,EAAA,oBACAC,EAAA,6BAGAsH,EAAA,kBAoBAC,EAAA,GACAA,EAAAF,GAAAE,EA7BA,kBA8BAA,EAfA,wBAeAA,EAdA,qBAeAA,EA9BA,oBA8BAA,EA7BA,iBA8BAA,EAfA,yBAeAA,EAdA,yBAeAA,EAdA,sBAcAA,EAbA,uBAcAA,EAbA,uBAaAA,EA5BA,gBA6BAA,EA5BA,mBA4BAA,EAAAD,GACAC,EA3BA,mBA2BAA,EA1BA,gBA2BAA,EA1BA,mBA0BAA,EAzBA,mBA0BAA,EAhBA,uBAgBAA,EAfA,8BAgBAA,EAfA,wBAeAA,EAdA,yBAcA,EACAA,EArCA,kBAqCAA,EAAAxH,GACAwH,EA5BA,qBA4BA,EAoGA/gB,EAAAD,QAlFA,SAAA0f,EAAAve,EAAA8f,EAAA/N,EAAAzR,EAAAG,EAAAsf,GACA,IAAAnL,EACAoL,EAAAF,EAAAtB,EACAyB,EAAAH,EAAAJ,EACAQ,EAAAJ,EAAArB,EAKA,GAHA1M,IACA6C,EAAAnU,EAAAsR,EAAA/R,EAAAM,EAAAG,EAAAsf,GAAAhO,EAAA/R,SAEAuM,IAAAqI,EACA,OAAAA,EAEA,IAAAuD,EAAAnY,GACA,OAAAA,EAEA,IAAAqZ,EAAAhH,EAAArS,GACA,GAAAqZ,GAEA,GADAzE,EAAAwK,EAAApf,IACAggB,EACA,OAAAjB,EAAA/e,EAAA4U,OAEG,CACH,IAAA4D,EAAA9D,EAAA1U,GACAmgB,EAAA3H,GAAAH,GAAAG,GAAAF,EAEA,GAAAW,EAAAjZ,GACA,OAAA8e,EAAA9e,EAAAggB,GAEA,GAAAxH,GAAAoH,GAAApH,GAAAmH,GAAAQ,IAAA1f,GAEA,GADAmU,EAAAqL,GAAAE,EAAA,GAAsCb,EAAAtf,IACtCggB,EACA,OAAAC,EACAhB,EAAAjf,EAAA6e,EAAAjK,EAAA5U,IACAgf,EAAAhf,EAAA4e,EAAAhK,EAAA5U,QAEK,CACL,IAAA6f,EAAArH,GACA,OAAA/X,EAAAT,EAAA,GAEA4U,EAAAyK,EAAArf,EAAAwY,EAAAwH,IAIAD,MAAA,IAAArB,GACA,IAAA0B,EAAAL,EAAAngB,IAAAI,GACA,GAAAogB,EACA,OAAAA,EAIA,GAFAL,EAAA3R,IAAApO,EAAA4U,GAEA4K,EAAAxf,GAKA,OAJAA,EAAAqgB,QAAA,SAAAC,GACA1L,EAAA2L,IAAAhC,EAAA+B,EAAAR,EAAA/N,EAAAuO,EAAAtgB,EAAA+f,MAGAnL,EAGA,GAAA2K,EAAAvf,GAKA,OAJAA,EAAAqgB,QAAA,SAAAC,EAAAhgB,GACAsU,EAAAxG,IAAA9N,EAAAie,EAAA+B,EAAAR,EAAA/N,EAAAzR,EAAAN,EAAA+f,MAGAnL,EAGA,IAAA6F,EAAAyF,EACAD,EAAAd,EAAAD,EACAe,EAAAO,OAAAf,EAEA3N,EAAAuH,OAAA9M,EAAAkO,EAAAza,GASA,OARA2e,EAAA7M,GAAA9R,EAAA,SAAAsgB,EAAAhgB,GACAwR,IAEAwO,EAAAtgB,EADAM,EAAAggB,IAIA3O,EAAAiD,EAAAtU,EAAAie,EAAA+B,EAAAR,EAAA/N,EAAAzR,EAAAN,EAAA+f,MAEAnL,oBCvKA,IAAAnE,EAAgB9R,EAAQ,GACxB8hB,EAAiB9hB,EAAQ,IACzB+hB,EAAkB/hB,EAAQ,IAC1BgiB,EAAehiB,EAAQ,IACvBiiB,EAAejiB,EAAQ,IACvBkiB,EAAeliB,EAAQ,IASvB,SAAA+f,EAAAhO,GACA,IAAAe,EAAAnI,KAAAoI,SAAA,IAAAjB,EAAAC,GACApH,KAAAwX,KAAArP,EAAAqP,KAIApC,EAAA/d,UAAAiQ,MAAA6P,EACA/B,EAAA/d,UAAA,OAAA+f,EACAhC,EAAA/d,UAAAf,IAAA+gB,EACAjC,EAAA/d,UAAAmQ,IAAA8P,EACAlC,EAAA/d,UAAAyN,IAAAyS,EAEA/hB,EAAAD,QAAA6f,iBCdA5f,EAAAD,QALA,WACAyK,KAAAoI,SAAA,GACApI,KAAAwX,KAAA,oBCTA,IAAAC,EAAmBpiB,EAAQ,IAM3BqiB,EAHA1O,MAAA3R,UAGAqgB,OA4BAliB,EAAAD,QAjBA,SAAAyB,GACA,IAAAmR,EAAAnI,KAAAoI,SACAf,EAAAoQ,EAAAtP,EAAAnR,GAEA,QAAAqQ,EAAA,IAIAA,GADAc,EAAA/E,OAAA,EAEA+E,EAAA2L,MAEA4D,EAAA9hB,KAAAuS,EAAAd,EAAA,KAEArH,KAAAwX,KACA,sBC/BA,IAAAC,EAAmBpiB,EAAQ,IAkB3BG,EAAAD,QAPA,SAAAyB,GACA,IAAAmR,EAAAnI,KAAAoI,SACAf,EAAAoQ,EAAAtP,EAAAnR,GAEA,OAAAqQ,EAAA,OAAApE,EAAAkF,EAAAd,GAAA,qBCfA,IAAAoQ,EAAmBpiB,EAAQ,IAe3BG,EAAAD,QAJA,SAAAyB,GACA,OAAAygB,EAAAzX,KAAAoI,SAAApR,IAAA,oBCZA,IAAAygB,EAAmBpiB,EAAQ,IAyB3BG,EAAAD,QAbA,SAAAyB,EAAAN,GACA,IAAAyR,EAAAnI,KAAAoI,SACAf,EAAAoQ,EAAAtP,EAAAnR,GAQA,OANAqQ,EAAA,KACArH,KAAAwX,KACArP,EAAA2F,KAAA,CAAA9W,EAAAN,KAEAyR,EAAAd,GAAA,GAAA3Q,EAEAsJ,uBCtBA,IAAAmH,EAAgB9R,EAAQ,GAcxBG,EAAAD,QALA,WACAyK,KAAAoI,SAAA,IAAAjB,EACAnH,KAAAwX,KAAA,kBCMAhiB,EAAAD,QARA,SAAAyB,GACA,IAAAmR,EAAAnI,KAAAoI,SACAkD,EAAAnD,EAAA,OAAAnR,GAGA,OADAgJ,KAAAwX,KAAArP,EAAAqP,KACAlM,kBCDA9V,EAAAD,QAJA,SAAAyB,GACA,OAAAgJ,KAAAoI,SAAA9R,IAAAU,mBCGAxB,EAAAD,QAJA,SAAAyB,GACA,OAAAgJ,KAAAoI,SAAAZ,IAAAxQ,qBCVA,IAAAmQ,EAAgB9R,EAAQ,GACxB6O,EAAU7O,EAAQ,IAClBsiB,EAAetiB,EAAQ,IAGvBuiB,EAAA,IA4BApiB,EAAAD,QAhBA,SAAAyB,EAAAN,GACA,IAAAyR,EAAAnI,KAAAoI,SACA,GAAAD,aAAAhB,EAAA,CACA,IAAA0Q,EAAA1P,EAAAC,SACA,IAAAlE,GAAA2T,EAAAzU,OAAAwU,EAAA,EAGA,OAFAC,EAAA/J,KAAA,CAAA9W,EAAAN,IACAsJ,KAAAwX,OAAArP,EAAAqP,KACAxX,KAEAmI,EAAAnI,KAAAoI,SAAA,IAAAuP,EAAAE,GAIA,OAFA1P,EAAArD,IAAA9N,EAAAN,GACAsJ,KAAAwX,KAAArP,EAAAqP,KACAxX,uBC9BA,IAAA0Q,EAAiBrb,EAAQ,IACzByiB,EAAeziB,EAAQ,IACvBwZ,EAAexZ,EAAQ,GACvByV,EAAezV,EAAQ,IASvB0iB,EAAA,8BAGAC,EAAAzY,SAAAlI,UACA2S,EAAA7T,OAAAkB,UAGA+X,EAAA4I,EAAA3I,SAGA/X,EAAA0S,EAAA1S,eAGA2gB,EAAAC,OAAA,IACA9I,EAAAxZ,KAAA0B,GAAA6gB,QAjBA,sBAiBA,QACAA,QAAA,uEAmBA3iB,EAAAD,QARA,SAAAmB,GACA,SAAAmY,EAAAnY,IAAAohB,EAAAphB,MAGAga,EAAAha,GAAAuhB,EAAAF,GACAK,KAAAtN,EAAApU,oBC3CA,IAAA2hB,EAGAA,EAAA,WACA,OAAArY,KADA,GAIA,IAEAqY,KAAA,IAAA9Y,SAAA,iBACC,MAAAwK,GAED,iBAAA9I,SAAAoX,EAAApX,QAOAzL,EAAAD,QAAA8iB,mBCnBA,IAAA7hB,EAAanB,EAAQ,IAGrB2U,EAAA7T,OAAAkB,UAGAC,EAAA0S,EAAA1S,eAOAghB,EAAAtO,EAAAqF,SAGAtH,EAAAvR,IAAAC,iBAAAwM,EA6BAzN,EAAAD,QApBA,SAAAmB,GACA,IAAA6hB,EAAAjhB,EAAA1B,KAAAc,EAAAqR,GACAmH,EAAAxY,EAAAqR,GAEA,IACArR,EAAAqR,QAAA9E,EACA,IAAAuV,GAAA,EACG,MAAAzO,IAEH,IAAAuB,EAAAgN,EAAA1iB,KAAAc,GAQA,OAPA8hB,IACAD,EACA7hB,EAAAqR,GAAAmH,SAEAxY,EAAAqR,IAGAuD,kBCzCA,IAOAgN,EAPAniB,OAAAkB,UAOAgY,SAaA7Z,EAAAD,QAJA,SAAAmB,GACA,OAAA4hB,EAAA1iB,KAAAc,qBClBA,IAIA+hB,EAJAC,EAAiBrjB,EAAQ,IAGzBsjB,GACAF,EAAA,SAAAG,KAAAF,KAAAvC,MAAAuC,EAAAvC,KAAA0C,UAAA,KACA,iBAAAJ,EAAA,GAcAjjB,EAAAD,QAJA,SAAA8T,GACA,QAAAsP,QAAAtP,oBChBA,IAGAqP,EAHWrjB,EAAQ,GAGnB,sBAEAG,EAAAD,QAAAmjB,iBCOAljB,EAAAD,QAJA,SAAA4B,EAAAH,GACA,aAAAG,OAAA8L,EAAA9L,EAAAH,qBCTA,IAAA8hB,EAAoBzjB,EAAQ,IAC5B0jB,EAAqB1jB,EAAQ,IAC7B2jB,EAAkB3jB,EAAQ,IAC1B4jB,EAAkB5jB,EAAQ,IAC1B6jB,EAAkB7jB,EAAQ,IAS1B,SAAAsiB,EAAAvQ,GACA,IAAAC,GAAA,EACAjE,EAAA,MAAAgE,EAAA,EAAAA,EAAAhE,OAGA,IADApD,KAAAsH,UACAD,EAAAjE,GAAA,CACA,IAAAmE,EAAAH,EAAAC,GACArH,KAAA8E,IAAAyC,EAAA,GAAAA,EAAA,KAKAoQ,EAAAtgB,UAAAiQ,MAAAwR,EACAnB,EAAAtgB,UAAA,OAAA0hB,EACApB,EAAAtgB,UAAAf,IAAA0iB,EACArB,EAAAtgB,UAAAmQ,IAAAyR,EACAtB,EAAAtgB,UAAAyN,IAAAoU,EAEA1jB,EAAAD,QAAAoiB,mBC/BA,IAAAwB,EAAW9jB,EAAQ,IACnB8R,EAAgB9R,EAAQ,GACxB6O,EAAU7O,EAAQ,IAkBlBG,EAAAD,QATA,WACAyK,KAAAwX,KAAA,EACAxX,KAAAoI,SAAA,CACAgR,KAAA,IAAAD,EACA9T,IAAA,IAAAnB,GAAAiD,GACAkS,OAAA,IAAAF,qBChBA,IAAAG,EAAgBjkB,EAAQ,IACxBkkB,EAAiBlkB,EAAQ,IACzBmkB,EAAcnkB,EAAQ,IACtBokB,EAAcpkB,EAAQ,IACtBqkB,EAAcrkB,EAAQ,IAStB,SAAA8jB,EAAA/R,GACA,IAAAC,GAAA,EACAjE,EAAA,MAAAgE,EAAA,EAAAA,EAAAhE,OAGA,IADApD,KAAAsH,UACAD,EAAAjE,GAAA,CACA,IAAAmE,EAAAH,EAAAC,GACArH,KAAA8E,IAAAyC,EAAA,GAAAA,EAAA,KAKA4R,EAAA9hB,UAAAiQ,MAAAgS,EACAH,EAAA9hB,UAAA,OAAAkiB,EACAJ,EAAA9hB,UAAAf,IAAAkjB,EACAL,EAAA9hB,UAAAmQ,IAAAiS,EACAN,EAAA9hB,UAAAyN,IAAA4U,EAEAlkB,EAAAD,QAAA4jB,mBC/BA,IAAAnR,EAAmB3S,EAAQ,IAc3BG,EAAAD,QALA,WACAyK,KAAAoI,SAAAJ,IAAA,SACAhI,KAAAwX,KAAA,kBCKAhiB,EAAAD,QANA,SAAAyB,GACA,IAAAsU,EAAAtL,KAAAwH,IAAAxQ,WAAAgJ,KAAAoI,SAAApR,GAEA,OADAgJ,KAAAwX,MAAAlM,EAAA,IACAA,oBCbA,IAAAtD,EAAmB3S,EAAQ,IAG3BskB,EAAA,4BAMAriB,EAHAnB,OAAAkB,UAGAC,eAoBA9B,EAAAD,QATA,SAAAyB,GACA,IAAAmR,EAAAnI,KAAAoI,SACA,GAAAJ,EAAA,CACA,IAAAsD,EAAAnD,EAAAnR,GACA,OAAAsU,IAAAqO,OAAA1W,EAAAqI,EAEA,OAAAhU,EAAA1B,KAAAuS,EAAAnR,GAAAmR,EAAAnR,QAAAiM,oBC1BA,IAAA+E,EAAmB3S,EAAQ,IAM3BiC,EAHAnB,OAAAkB,UAGAC,eAgBA9B,EAAAD,QALA,SAAAyB,GACA,IAAAmR,EAAAnI,KAAAoI,SACA,OAAAJ,OAAA/E,IAAAkF,EAAAnR,GAAAM,EAAA1B,KAAAuS,EAAAnR,qBCnBA,IAAAgR,EAAmB3S,EAAQ,IAG3BskB,EAAA,4BAmBAnkB,EAAAD,QAPA,SAAAyB,EAAAN,GACA,IAAAyR,EAAAnI,KAAAoI,SAGA,OAFApI,KAAAwX,MAAAxX,KAAAwH,IAAAxQ,GAAA,IACAmR,EAAAnR,GAAAgR,QAAA/E,IAAAvM,EAAAijB,EAAAjjB,EACAsJ,uBCnBA,IAAA4Z,EAAiBvkB,EAAQ,IAiBzBG,EAAAD,QANA,SAAAyB,GACA,IAAAsU,EAAAsO,EAAA5Z,KAAAhJ,GAAA,OAAAA,GAEA,OADAgJ,KAAAwX,MAAAlM,EAAA,IACAA,kBCAA9V,EAAAD,QAPA,SAAAmB,GACA,IAAAiP,SAAAjP,EACA,gBAAAiP,GAAA,UAAAA,GAAA,UAAAA,GAAA,WAAAA,EACA,cAAAjP,EACA,OAAAA,oBCXA,IAAAkjB,EAAiBvkB,EAAQ,IAezBG,EAAAD,QAJA,SAAAyB,GACA,OAAA4iB,EAAA5Z,KAAAhJ,GAAAV,IAAAU,qBCZA,IAAA4iB,EAAiBvkB,EAAQ,IAezBG,EAAAD,QAJA,SAAAyB,GACA,OAAA4iB,EAAA5Z,KAAAhJ,GAAAwQ,IAAAxQ,qBCZA,IAAA4iB,EAAiBvkB,EAAQ,IAqBzBG,EAAAD,QATA,SAAAyB,EAAAN,GACA,IAAAyR,EAAAyR,EAAA5Z,KAAAhJ,GACAwgB,EAAArP,EAAAqP,KAIA,OAFArP,EAAArD,IAAA9N,EAAAN,GACAsJ,KAAAwX,MAAArP,EAAAqP,QAAA,IACAxX,qBCGAxK,EAAAD,QAZA,SAAAmS,EAAAmS,GAIA,IAHA,IAAAxS,GAAA,EACAjE,EAAA,MAAAsE,EAAA,EAAAA,EAAAtE,SAEAiE,EAAAjE,IACA,IAAAyW,EAAAnS,EAAAL,KAAAK,KAIA,OAAAA,oBClBA,IAAAO,EAAgB5S,EAAQ,GAExBe,EAAA,WACA,IACA,IAAAiT,EAAApB,EAAA9R,OAAA,kBAEA,OADAkT,EAAA,GAAW,OACXA,EACG,MAAAU,KALH,GAQAvU,EAAAD,QAAAa,mBCVA,IAAA0jB,EAAiBzkB,EAAQ,IACzB8gB,EAAW9gB,EAAQ,IAenBG,EAAAD,QAJA,SAAA4B,EAAAoR,GACA,OAAApR,GAAA2iB,EAAAvR,EAAA4N,EAAA5N,GAAApR,mBCMA3B,EAAAD,QAVA,SAAA2B,EAAA2iB,GAIA,IAHA,IAAAxS,GAAA,EACAiE,EAAAtC,MAAA9R,KAEAmQ,EAAAnQ,GACAoU,EAAAjE,GAAAwS,EAAAxS,GAEA,OAAAiE,oBChBA,IAAAyO,EAAsB1kB,EAAQ,IAC9B2kB,EAAmB3kB,EAAQ,GAG3B2U,EAAA7T,OAAAkB,UAGAC,EAAA0S,EAAA1S,eAGA+S,EAAAL,EAAAK,qBAoBAqF,EAAAqK,EAAA,WAA8C,OAAAE,UAA9C,IAAkEF,EAAA,SAAArjB,GAClE,OAAAsjB,EAAAtjB,IAAAY,EAAA1B,KAAAc,EAAA,YACA2T,EAAAzU,KAAAc,EAAA,WAGAlB,EAAAD,QAAAma,mBCnCA,IAAA7E,EAAiBxV,EAAQ,IACzB2kB,EAAmB3kB,EAAQ,GAG3BghB,EAAA,qBAaA7gB,EAAAD,QAJA,SAAAmB,GACA,OAAAsjB,EAAAtjB,IAAAmU,EAAAnU,IAAA2f,kBCGA7gB,EAAAD,QAJA,WACA,yBCbA,IAAAgb,EAAA,iBAGA2J,EAAA,mBAoBA1kB,EAAAD,QAVA,SAAAmB,EAAA0M,GACA,IAAAuC,SAAAjP,EAGA,SAFA0M,EAAA,MAAAA,EAAAmN,EAAAnN,KAGA,UAAAuC,GACA,UAAAA,GAAAuU,EAAA9B,KAAA1hB,KACAA,GAAA,GAAAA,EAAA,MAAAA,EAAA0M,oBCrBA,IAAA+W,EAAuB9kB,EAAQ,IAC/B+kB,EAAgB/kB,EAAQ,IACxBsU,EAAetU,EAAQ,IAGvBglB,EAAA1Q,KAAAkG,aAmBAA,EAAAwK,EAAAD,EAAAC,GAAAF,EAEA3kB,EAAAD,QAAAsa,mBC1BA,IAAAhF,EAAiBxV,EAAQ,IACzBsb,EAAetb,EAAQ,IACvB2kB,EAAmB3kB,EAAQ,GA8B3BilB,EAAA,GACAA,EAZA,yBAYAA,EAXA,yBAYAA,EAXA,sBAWAA,EAVA,uBAWAA,EAVA,uBAUAA,EATA,uBAUAA,EATA,8BASAA,EARA,wBASAA,EARA,yBAQA,EACAA,EAjCA,sBAiCAA,EAhCA,kBAiCAA,EApBA,wBAoBAA,EAhCA,oBAiCAA,EApBA,qBAoBAA,EAhCA,iBAiCAA,EAhCA,kBAgCAA,EA/BA,qBAgCAA,EA/BA,gBA+BAA,EA9BA,mBA+BAA,EA9BA,mBA8BAA,EA7BA,mBA8BAA,EA7BA,gBA6BAA,EA5BA,mBA6BAA,EA5BA,qBA4BA,EAcA9kB,EAAAD,QALA,SAAAmB,GACA,OAAAsjB,EAAAtjB,IACAia,EAAAja,EAAA0M,WAAAkX,EAAAzP,EAAAnU,sBCxDA,IAAA6jB,EAAkBllB,EAAQ,IAC1BmlB,EAAiBnlB,EAAQ,IAMzBiC,EAHAnB,OAAAkB,UAGAC,eAsBA9B,EAAAD,QAbA,SAAA4B,GACA,IAAAojB,EAAApjB,GACA,OAAAqjB,EAAArjB,GAEA,IAAAmU,EAAA,GACA,QAAAtU,KAAAb,OAAAgB,GACAG,EAAA1B,KAAAuB,EAAAH,IAAA,eAAAA,GACAsU,EAAAwC,KAAA9W,GAGA,OAAAsU,oBC1BA,IAGAkP,EAHcnlB,EAAQ,GAGtB4b,CAAA9a,OAAAggB,KAAAhgB,QAEAX,EAAAD,QAAAilB,mBCLA,IAAAV,EAAiBzkB,EAAQ,IACzB6hB,EAAa7hB,EAAQ,IAerBG,EAAAD,QAJA,SAAA4B,EAAAoR,GACA,OAAApR,GAAA2iB,EAAAvR,EAAA2O,EAAA3O,GAAApR,qBCbA,IAAA0X,EAAexZ,EAAQ,GACvBklB,EAAkBllB,EAAQ,IAC1BolB,EAAmBplB,EAAQ,IAM3BiC,EAHAnB,OAAAkB,UAGAC,eAwBA9B,EAAAD,QAfA,SAAA4B,GACA,IAAA0X,EAAA1X,GACA,OAAAsjB,EAAAtjB,GAEA,IAAAujB,EAAAH,EAAApjB,GACAmU,EAAA,GAEA,QAAAtU,KAAAG,GACA,eAAAH,IAAA0jB,GAAApjB,EAAA1B,KAAAuB,EAAAH,KACAsU,EAAAwC,KAAA9W,GAGA,OAAAsU,kBCVA9V,EAAAD,QAVA,SAAA4B,GACA,IAAAmU,EAAA,GACA,SAAAnU,EACA,QAAAH,KAAAb,OAAAgB,GACAmU,EAAAwC,KAAA9W,GAGA,OAAAsU,qBChBA,SAAA9V,GAAA,IAAA8J,EAAWjK,EAAQ,GAGnBiU,EAA4C/T,MAAAgU,UAAAhU,EAG5CiU,EAAAF,GAAA,iBAAA9T,SAAA+T,UAAA/T,EAMA8a,EAHA9G,KAAAjU,UAAA+T,EAGAhK,EAAAgR,YAAArN,EACA0X,EAAArK,IAAAqK,iBAAA1X,EAqBAzN,EAAAD,QAXA,SAAAqlB,EAAAlE,GACA,GAAAA,EACA,OAAAkE,EAAAC,QAEA,IAAAzX,EAAAwX,EAAAxX,OACAkI,EAAAqP,IAAAvX,GAAA,IAAAwX,EAAA1Q,YAAA9G,GAGA,OADAwX,EAAAtU,KAAAgF,GACAA,wCCZA9V,EAAAD,QAXA,SAAAgT,EAAAb,GACA,IAAAL,GAAA,EACAjE,EAAAmF,EAAAnF,OAGA,IADAsE,MAAAsB,MAAA5F,MACAiE,EAAAjE,GACAsE,EAAAL,GAAAkB,EAAAlB,GAEA,OAAAK,oBChBA,IAAAoS,EAAiBzkB,EAAQ,IACzBmV,EAAiBnV,EAAQ,IAczBG,EAAAD,QAJA,SAAAgT,EAAApR,GACA,OAAA2iB,EAAAvR,EAAAiC,EAAAjC,GAAApR,mBCYA3B,EAAAD,QAfA,SAAAmS,EAAAoT,GAMA,IALA,IAAAzT,GAAA,EACAjE,EAAA,MAAAsE,EAAA,EAAAA,EAAAtE,OACA2X,EAAA,EACAzP,EAAA,KAEAjE,EAAAjE,GAAA,CACA,IAAA1M,EAAAgR,EAAAL,GACAyT,EAAApkB,EAAA2Q,EAAAK,KACA4D,EAAAyP,KAAArkB,GAGA,OAAA4U,oBCrBA,IAAAwO,EAAiBzkB,EAAQ,IACzB0b,EAAmB1b,EAAQ,IAc3BG,EAAAD,QAJA,SAAAgT,EAAApR,GACA,OAAA2iB,EAAAvR,EAAAwI,EAAAxI,GAAApR,qBCZA,IAAA6jB,EAAqB3lB,EAAQ,IAC7BmV,EAAiBnV,EAAQ,IACzB8gB,EAAW9gB,EAAQ,IAanBG,EAAAD,QAJA,SAAA4B,GACA,OAAA6jB,EAAA7jB,EAAAgf,EAAA3L,qBCZA,IAAAwQ,EAAqB3lB,EAAQ,IAC7B0b,EAAmB1b,EAAQ,IAC3B6hB,EAAa7hB,EAAQ,IAcrBG,EAAAD,QAJA,SAAA4B,GACA,OAAA6jB,EAAA7jB,EAAA+f,EAAAnG,qBCbA,IAIArG,EAJgBrV,EAAQ,EAIxB4S,CAHW5S,EAAQ,GAGnB,YAEAG,EAAAD,QAAAmV,mBCNA,IAIA3F,EAJgB1P,EAAQ,EAIxB4S,CAHW5S,EAAQ,GAGnB,WAEAG,EAAAD,QAAAwP,mBCNA,IAIA4F,EAJgBtV,EAAQ,EAIxB4S,CAHW5S,EAAQ,GAGnB,OAEAG,EAAAD,QAAAoV,mBCNA,IAIAC,EAJgBvV,EAAQ,EAIxB4S,CAHW5S,EAAQ,GAGnB,WAEAG,EAAAD,QAAAqV,iBCLA,IAGAtT,EAHAnB,OAAAkB,UAGAC,eAqBA9B,EAAAD,QAZA,SAAAmS,GACA,IAAAtE,EAAAsE,EAAAtE,OACAkI,EAAA,IAAA5D,EAAAwC,YAAA9G,GAOA,OAJAA,GAAA,iBAAAsE,EAAA,IAAApQ,EAAA1B,KAAA8R,EAAA,WACA4D,EAAAjE,MAAAK,EAAAL,MACAiE,EAAA2P,MAAAvT,EAAAuT,OAEA3P,oBCtBA,IAAA4P,EAAuB7lB,EAAQ,IAC/B8lB,EAAoB9lB,EAAQ,KAC5B+lB,EAAkB/lB,EAAQ,KAC1BgmB,EAAkBhmB,EAAQ,KAC1BimB,EAAsBjmB,EAAQ,KAG9BkmB,EAAA,mBACAC,EAAA,gBACAC,EAAA,eACAC,EAAA,kBACAC,EAAA,kBACAC,EAAA,eACAC,EAAA,kBACAC,EAAA,kBAEAC,EAAA,uBACAC,EAAA,oBACAC,EAAA,wBACAC,EAAA,wBACAC,EAAA,qBACAC,EAAA,sBACAC,EAAA,sBACAC,EAAA,sBACAC,EAAA,6BACAC,EAAA,uBACAC,EAAA,uBAkDAjnB,EAAAD,QApCA,SAAA4B,EAAA+X,EAAAwH,GACA,IAAAzM,EAAA9S,EAAA+S,YACA,OAAAgF,GACA,KAAA6M,EACA,OAAAb,EAAA/jB,GAEA,KAAAokB,EACA,KAAAC,EACA,WAAAvR,GAAA9S,GAEA,KAAA6kB,EACA,OAAAb,EAAAhkB,EAAAuf,GAEA,KAAAuF,EAAA,KAAAC,EACA,KAAAC,EAAA,KAAAC,EAAA,KAAAC,EACA,KAAAC,EAAA,KAAAC,EAAA,KAAAC,EAAA,KAAAC,EACA,OAAAnB,EAAAnkB,EAAAuf,GAEA,KAAA+E,EACA,WAAAxR,EAEA,KAAAyR,EACA,KAAAG,EACA,WAAA5R,EAAA9S,GAEA,KAAAwkB,EACA,OAAAP,EAAAjkB,GAEA,KAAAykB,EACA,WAAA3R,EAEA,KAAA6R,EACA,OAAAT,EAAAlkB,sBCxEA,IAGAqU,EAHWnW,EAAQ,GAGnBmW,WAEAhW,EAAAD,QAAAiW,mBCLA,IAAA0P,EAAuB7lB,EAAQ,IAe/BG,EAAAD,QALA,SAAAmnB,EAAAhG,GACA,IAAAkE,EAAAlE,EAAAwE,EAAAwB,EAAA9B,QAAA8B,EAAA9B,OACA,WAAA8B,EAAAxS,YAAA0Q,EAAA8B,EAAAC,WAAAD,EAAAhR,4BCXA,IAAAkR,EAAA,OAeApnB,EAAAD,QANA,SAAAsnB,GACA,IAAAvR,EAAA,IAAAuR,EAAA3S,YAAA2S,EAAAtU,OAAAqU,EAAAhE,KAAAiE,IAEA,OADAvR,EAAAwR,UAAAD,EAAAC,UACAxR,oBCbA,IAAA9U,EAAanB,EAAQ,IAGrB0nB,EAAAvmB,IAAAa,eAAA4L,EACA+Z,EAAAD,IAAAE,aAAAha,EAaAzN,EAAAD,QAJA,SAAAkV,GACA,OAAAuS,EAAA7mB,OAAA6mB,EAAApnB,KAAA6U,IAAA,qBCdA,IAAAyQ,EAAuB7lB,EAAQ,IAe/BG,EAAAD,QALA,SAAA2nB,EAAAxG,GACA,IAAAkE,EAAAlE,EAAAwE,EAAAgC,EAAAtC,QAAAsC,EAAAtC,OACA,WAAAsC,EAAAhT,YAAA0Q,EAAAsC,EAAAP,WAAAO,EAAA9Z,0BCZA,IAAA+Z,EAAiB9nB,EAAQ,KACzByb,EAAmBzb,EAAQ,IAC3BklB,EAAkBllB,EAAQ,IAe1BG,EAAAD,QANA,SAAA4B,GACA,yBAAAA,EAAA+S,aAAAqQ,EAAApjB,GAEA,GADAgmB,EAAArM,EAAA3Z,sBCbA,IAAA0X,EAAexZ,EAAQ,GAGvB+nB,EAAAjnB,OAAAY,OAUAomB,EAAA,WACA,SAAAhmB,KACA,gBAAAkmB,GACA,IAAAxO,EAAAwO,GACA,SAEA,GAAAD,EACA,OAAAA,EAAAC,GAEAlmB,EAAAE,UAAAgmB,EACA,IAAA/R,EAAA,IAAAnU,EAEA,OADAA,EAAAE,eAAA4L,EACAqI,GAZA,GAgBA9V,EAAAD,QAAA4nB,mBC7BA,IAAAG,EAAgBjoB,EAAQ,KACxB+kB,EAAgB/kB,EAAQ,IACxBsU,EAAetU,EAAQ,IAGvBkoB,EAAA5T,KAAAsM,MAmBAA,EAAAsH,EAAAnD,EAAAmD,GAAAD,EAEA9nB,EAAAD,QAAA0gB,mBC1BA,IAAA7K,EAAa/V,EAAQ,IACrB2kB,EAAmB3kB,EAAQ,GAG3BomB,EAAA,eAaAjmB,EAAAD,QAJA,SAAAmB,GACA,OAAAsjB,EAAAtjB,IAAA0U,EAAA1U,IAAA+kB,oBCdA,IAAA+B,EAAgBnoB,EAAQ,KACxB+kB,EAAgB/kB,EAAQ,IACxBsU,EAAetU,EAAQ,IAGvBooB,EAAA9T,KAAAuM,MAmBAA,EAAAuH,EAAArD,EAAAqD,GAAAD,EAEAhoB,EAAAD,QAAA2gB,mBC1BA,IAAA9K,EAAa/V,EAAQ,IACrB2kB,EAAmB3kB,EAAQ,GAG3BumB,EAAA,eAaApmB,EAAAD,QAJA,SAAAmB,GACA,OAAAsjB,EAAAtjB,IAAA0U,EAAA1U,IAAAklB,kFCXArmB,EAAA4d,wBAAA,MAEI7S,YAAoBod,GAAA1d,KAAA0d,QAEpBpd,UACIN,KAAK0d,MAAMC,oGCLnBpoB,EAAA2d,mBAAA,MAEI5S,YAAoBod,GAAA1d,KAAA0d,QAEpBpd,QAAQ5J,GACLsJ,KAAK0d,MAAME,YAAYlnB,oFCP9B,MAAA8I,EAAAnK,EAAA,GAEAE,EAAA0d,mBAAA,MAEY3S,yBACJ,MAAMud,EAAgCre,EAAA9H,YAAYiB,QAAQY,YACpDukB,EAAuCte,EAAA9H,YAAYiB,QAAQa,oBACjEgG,EAAA9H,YAAYiB,QAAQY,YAAciG,EAAA9H,YAAYiB,QAAQc,oBACtD+F,EAAA9H,YAAYiB,QAAQa,oBAAsBgG,EAAA9H,YAAYiB,QAAQe,4BAC9D8F,EAAA9H,YAAYiB,QAAQc,oBAAsBokB,EAC1Cre,EAAA9H,YAAYiB,QAAQe,4BAA8BokB,EAE/Cxd,UACHd,EAAA9H,YAAY6G,UAAYiB,EAAA9H,YAAY6G,SACpCyB,KAAK+d,0GCfb,MAAAve,EAAAnK,EAAA,GAIAE,EAAAyd,WAAA,MAEI1S,YAAoBod,GAAA1d,KAAA0d,QAEpBpd,QAAQ0d,GACJxe,EAAA9H,YAAY8G,OAAQ,EACpBgB,EAAA9H,YAAY+G,oBAAsBuf,EAClChe,KAAK0d,MAAMO,yFCXnB,MAAAze,EAAAnK,EAAA,GAIAE,EAAAwd,WAAA,MAEIzS,YAAoBod,GAAA1d,KAAA0d,QAEpBpd,UACId,EAAA9H,YAAY8G,OAAQ,EACpBwB,KAAK0d,MAAMO,yFCTnB,MAAAC,EAAA7oB,EAAA,KACAkd,EAAAld,EAAA,GACAwQ,EAAAxQ,EAAA,GACAmK,EAAAnK,EAAA,GAEA8oB,EAAA9oB,EAAA,KAEA,MAAawd,EAOTU,WAAkB7c,GACdsJ,KAAKoe,QAAU1nB,EAGnB6c,aACI,OAAOvT,KAAKoe,QAGT9d,KAAK+d,EAA+CC,GACvDte,KAAKue,SAAWD,EAAO7gB,QAAQ4H,IAAKsB,GACzB,IAAIuX,EAAAM,WACHH,EAAW/nB,IAAIqQ,EAAOjJ,QACtBiJ,EAAOjQ,MACPiQ,EAAOxJ,SACPwJ,EAAO9I,OACP8I,EAAO7I,gBAInBkC,KAAKye,QAAUH,EAAOrhB,OAAOoI,IAAKqZ,GACvB,IAAIP,EAAAQ,UACHD,EAAMxhB,KACNwhB,EAAMvhB,SACNuhB,EAAMthB,KACNshB,EAAMrhB,MACNqhB,EAAMphB,YAIlB0C,KAAK4e,UAAYN,EAAOrgB,UAAUoH,IAAKwZ,IACnC,MAAMC,EAAU,IAAIjM,EAEpB,OADAiM,EAAQrQ,KAAK4P,EAAYQ,GAClBC,IAIRxe,WAAW+G,GACd,OAAOrH,KAAK4e,UAAUvX,GAGnB/G,SACAN,KAAKoe,SACJpe,KAAKue,SAASxH,QAASpQ,GAAuBA,EAAO0H,UAGzDrO,KAAK4e,UAAU7H,QAAS8H,GAAeA,EAAKxQ,UAGzC/N,OACAN,KAAKoe,UACJvY,EAAA/F,SAASif,aAAavf,EAAA9H,YAAY0G,gBAClCyH,EAAA/F,SAAS0C,UAAU+P,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQC,uBACxDoH,KAAKye,QAAQ1H,QAAS2H,GAAqBA,EAAMnK,QACjDvU,KAAKue,SAASxH,QAASpQ,GAAuBA,EAAO4N,SAEzDvU,KAAK4e,UAAU7H,QAAS8H,GAAeA,EAAKtK,SA9DpDhf,EAAAsd,sFCPA,MAAArT,EAAAnK,EAAA,GACA0W,EAAA1W,EAAA,GACAwQ,EAAAxQ,EAAA,GAEAkd,EAAAld,EAAA,GAEAE,EAAAipB,WAAA,MASIle,YACY0e,EACAC,EACAhZ,EACAiZ,EACAC,GAJAnf,KAAAgf,WACAhf,KAAAif,SACAjf,KAAAiG,YACAjG,KAAAkf,aACAlf,KAAAmf,oBAERnf,KAAKof,cAAgB7M,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQqH,KAAKkf,aAXnEG,YAAoB3oB,GAChBsJ,KAAKsf,SAAW5oB,EAaZ4J,eAAenD,GACnB,OAAOA,EAASpF,EAAIiI,KAAKiG,UAAUlO,GAC5BoF,EAASpF,EAAIiI,KAAKiG,UAAUlO,EAAIiI,KAAKof,cAAc9d,OACnDnE,EAASnF,EAAIgI,KAAKiG,UAAUjO,GAC5BmF,EAASnF,EAAIgI,KAAKiG,UAAUjO,EAAIgI,KAAKof,cAAc7d,OAGvDjB,cAEHN,KAAKqf,QAAUrf,KAAKuf,eAAexT,EAAAjG,MAAM3I,UACzC6C,KAAKof,cAAgBpf,KAAKsf,SACL/M,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQqH,KAAKmf,oBAC1C5M,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQqH,KAAKkf,aAE5Dlf,KAAKsf,UAAYvT,EAAAjG,MAAMuO,UAAU7U,EAAA9H,YAAY4E,uBAC5CuJ,EAAA/F,SAASif,aAAavf,EAAA9H,YAAY0G,gBAClC4B,KAAKgf,SAASQ,QAAQxf,KAAKif,SAI5B3e,SACHN,KAAKsU,cAGFhU,OACAN,KAAKsf,UACJzZ,EAAA/F,SAASif,aAAavf,EAAA9H,YAAY2G,eAEtCwH,EAAA/F,SAAS0C,UAAUxC,KAAKof,cAAepf,KAAKiG,4FCtDpD,MAAAJ,EAAAxQ,EAAA,GAGAE,EAAAopB,UAAA,MAEIre,YACYmf,EACAxZ,EACAyZ,EACAC,EACAC,GAJA5f,KAAAyf,QACAzf,KAAAiG,YACAjG,KAAA0f,QACA1f,KAAA2f,SACA3f,KAAA4f,aAGLtf,OACHuF,EAAA/F,SAAS+f,SAAS7f,KAAKyf,MAAOzf,KAAK0f,MAAO1f,KAAK2f,OAAQ3f,KAAKiG,UAAWjG,KAAK4f,6FCdpF,MAAA5N,EAAA3c,EAAA,IACAyqB,EAAAzqB,EAAA,IACA0qB,EAAA1qB,EAAA,KACA2qB,EAAA3qB,EAAA,KACA4qB,EAAA5qB,EAAA,KACA6qB,EAAA7qB,EAAA,IACAoK,EAAApK,EAAA,GACAmK,EAAAnK,EAAA,GACAkd,EAAAld,EAAA,GACAwQ,EAAAxQ,EAAA,GACA8qB,EAAA9qB,EAAA,KACA0W,EAAA1W,EAAA,GACA+qB,EAAA/qB,EAAA,KAEAE,EAAAke,UAAA,MAiDInT,cAzCQN,KAAAqgB,SAAqB,CAAC,IAAIL,EAAAM,OAAU,IAAIN,EAAAM,QACxCtgB,KAAAugB,oBAAsB,EAyC1BvgB,KAAKkU,YAnCTsM,oBACI,OAAOxgB,KAAKqgB,SAASrgB,KAAKugB,qBAG9BE,iBACI,OAAOzgB,KAAKqgB,UAAUrgB,KAAKugB,oBAAsB,GAAKvgB,KAAKqgB,SAASjd,QAGxEqR,YACI,OAAOzU,KAAK0gB,OAGhBlS,mBACI,OAAOxO,KAAK2gB,WAAWC,WAG3B9L,kBACI,OAAO9U,KAAK2gB,WAAWE,QAG3B7L,iBACI,OAAOhV,KAAK8gB,SAAS9L,WAAWhV,KAAKwgB,cAAexgB,KAAK+gB,SAAU/gB,KAAKghB,QAG5EtT,oBACI,OAAO1N,KAAK0gB,OAAOO,KAAKC,GAAQA,EAAKC,QAGzCpM,+BACI,OAAO/U,KAAK2gB,WAAWS,cAAche,OAWjC9C,gBAAgBjD,GACpB,OAAO2C,KAAK0gB,OAAOW,OAAQH,GAAeA,EAAK7jB,QAAUA,GAGrDiD,cACA0R,EAAArD,GAAGtC,iBAAmBN,EAAAjG,MAAMuO,UAAU7U,EAAA9H,YAAY6E,qBAClDyD,KAAKmO,aAAanO,KAAKshB,OAAOpU,MAAOlN,KAAKshB,OAAOpf,UAIjD5B,0BAA0BnD,GAE9B,OAD4BA,EAASnF,EAAIwH,EAAA9H,YAAYkE,cAAgB,GAC/C4D,EAAA9H,YAAY0D,cAG9BkF,2BAA2BnD,GAE/B,OAD6BA,EAASpF,EAAIyH,EAAA9H,YAAYkE,cAAgB,GAC/C4D,EAAA9H,YAAY0D,cAG/BkF,4BAA4BnD,GAEhC,OAD8BA,EAASpF,EAAIyH,EAAA9H,YAAYkE,cAAgB,GAC/C4D,EAAA9H,YAAYE,WAAa4H,EAAA9H,YAAY0D,cAGzDkF,6BAA6BnD,GAEjC,OAD+BA,EAASnF,EAAIwH,EAAA9H,YAAYkE,cAAgB,GAC/C4D,EAAA9H,YAAYG,YAAc2H,EAAA9H,YAAY0D,cAG3DkF,8BAA8B4gB,GAClCA,EAAK/jB,SAAW+jB,EAAK/jB,SAASokB,KAAK/hB,EAAA9H,YAAY0D,cAAgB8lB,EAAK/jB,SAASnF,EAAIwH,EAAA9H,YAAYkE,cAAgB,GAC7GslB,EAAKM,SAAW,IAAI/hB,EAAAmC,QAAQsf,EAAKM,SAASzpB,GAAImpB,EAAKM,SAASxpB,GAGxDsI,+BAA+B4gB,GACnCA,EAAK/jB,SAAW+jB,EAAK/jB,SAASskB,KAAKjiB,EAAA9H,YAAY0D,cAAgB8lB,EAAK/jB,SAASpF,EAAIyH,EAAA9H,YAAYkE,cAAgB,GAC7GslB,EAAKM,SAAW,IAAI/hB,EAAAmC,SAASsf,EAAKM,SAASzpB,EAAGmpB,EAAKM,SAASxpB,GAGxDsI,gCAAgC4gB,GACpCA,EAAK/jB,SAAW+jB,EAAK/jB,SAASskB,KAAKjiB,EAAA9H,YAAYE,WAAa4H,EAAA9H,YAAY0D,cAAgB8lB,EAAK/jB,SAASpF,EAAIyH,EAAA9H,YAAYkE,cAAgB,GACtIslB,EAAKM,SAAW,IAAI/hB,EAAAmC,SAASsf,EAAKM,SAASzpB,EAAGmpB,EAAKM,SAASxpB,GAGxDsI,iCAAiC4gB,GACrCA,EAAK/jB,SAAW+jB,EAAK/jB,SAASokB,KAAK/hB,EAAA9H,YAAYG,YAAc2H,EAAA9H,YAAY0D,cAAgB8lB,EAAK/jB,SAASnF,EAAIwH,EAAA9H,YAAYkE,cAAgB,GACvIslB,EAAKM,SAAW,IAAI/hB,EAAAmC,QAAQsf,EAAKM,SAASzpB,GAAImpB,EAAKM,SAASxpB,GAGxDsI,gCAAgC4gB,GAEpC,IAAIQ,GAAoB,EAErB1hB,KAAK2hB,0BAA0BT,EAAKU,gBACnC5hB,KAAK6hB,8BAA8BX,GACnCQ,GAAW,GAEZ1hB,KAAK8hB,2BAA2BZ,EAAKU,gBACpC5hB,KAAK+hB,+BAA+Bb,GACpCQ,GAAW,GAEZ1hB,KAAKgiB,4BAA4Bd,EAAKU,gBACrC5hB,KAAKiiB,gCAAgCf,GACrCQ,GAAW,GAEZ1hB,KAAKkiB,6BAA6BhB,EAAKU,gBACtC5hB,KAAKmiB,iCAAiCjB,GACtCQ,GAAW,GAGZA,IACCR,EAAKM,SAAWN,EAAKM,SAASY,KAAK,EAAI5iB,EAAA9H,YAAYyD,iBAInDmF,sBAAuB+hB,EAAaC,GAExC,IAAID,EAAME,UAAYD,EAAOC,QACzB,OAAO,EAIX,MAAMrrB,EAAamrB,EAAMllB,SAAS4G,SAASue,EAAOnlB,UAG5CqlB,EAAetrB,EAAEkM,OAEvB,GAAGof,EAAOhjB,EAAA9H,YAAYkE,cAClB,OAAO,EAIX,MAAM6mB,EAAMvrB,EAAEkrB,MAAM5iB,EAAA9H,YAAYkE,cAAgB4mB,GAAQA,GAGxDH,EAAMllB,SAAWklB,EAAMllB,SAAS8Z,IAAIwL,EAAIL,KAAK,KAC7CE,EAAOnlB,SAAWmlB,EAAOnlB,SAAS4G,SAAS0e,EAAIL,KAAK,KAGpD,MAAMM,EAAKxrB,EAAEkrB,KAAK,EAAElrB,EAAEkM,QAGhBuf,EAAK,IAAIljB,EAAAmC,SAAS8gB,EAAG1qB,EAAG0qB,EAAG3qB,GAG3B6qB,EAAcF,EAAGG,IAAIR,EAAMb,UAC3BsB,EAAcH,EAAGE,IAAIR,EAAMb,UAC3BuB,EAAcL,EAAGG,IAAIP,EAAOd,UAC5BwB,EAAcL,EAAGE,IAAIP,EAAOd,UAG5ByB,EAAkBP,EAAGN,KAAKW,GAC1BG,EAAkBP,EAAGP,KAAKU,GAC1BK,EAAkBT,EAAGN,KAAKQ,GAC1BQ,EAAkBT,EAAGP,KAAKY,GAShC,OANAX,EAAMb,SAAWyB,EAAOhM,IAAIiM,GAC5BZ,EAAOd,SAAW2B,EAAOlM,IAAImM,GAE7Bf,EAAMb,SAAWa,EAAMb,SAASY,KAAK,EAAI5iB,EAAA9H,YAAYyD,gBACrDmnB,EAAOd,SAAWc,EAAOd,SAASY,KAAK,EAAI5iB,EAAA9H,YAAYyD,iBAEhD,EAGHmF,mBACJ,IAAI,IAAI7K,EAAI,EAAIA,EAAIuK,KAAK0gB,OAAOtd,OAAS3N,IAAK,CAE1CuK,KAAKqjB,gCAAgCrjB,KAAK0gB,OAAOjrB,IAEjD,IAAI,IAAIif,EAAIjf,EAAI,EAAIif,EAAI1U,KAAK0gB,OAAOtd,OAASsR,IAAK,CAC9C,MAAMC,EAAY3U,KAAK0gB,OAAOjrB,GACxBmf,EAAa5U,KAAK0gB,OAAOhM,GAG/B,GAFiB1U,KAAKsjB,sBAAsB3O,EAAWC,GAE3C,CACR,MAAM2O,EAAgB5O,EAAU6M,SAASpe,OAASwR,EAAW4M,SAASpe,OAChEmB,EAAiBub,EAAAzO,SAASkS,EAAO,EAAG/jB,EAAA9H,YAAYsE,kCAAmC,EAAG,GAG5F,GAFAuW,EAAAvO,OAAOwf,UAAUhkB,EAAA9H,YAAYmD,OAAOC,cAAeyJ,IAE/CvE,KAAK2gB,WAAW8C,uBAAwB,CACxC,MAAMpmB,EAAesX,EAAUtX,QAAU6iB,EAAAvU,MAAM+X,MAAQ9O,EAAWvX,MAAQsX,EAAUtX,MACpF2C,KAAK2gB,WAAW8C,uBAAyBpmB,MAOrDiD,eAAenD,GACnB,OAAOqC,EAAA9H,YAAY4D,kBACd2lB,KAAM0C,GAAuBxmB,EAAS0X,SAAS8O,IAAcnkB,EAAA9H,YAAY2D,eAI1EiF,oBAAoB4gB,GAEpBlhB,KAAK4jB,eAAe1C,EAAK/jB,WACzB+jB,EAAK2C,OAILvjB,mBAAmBjD,GACvB,OAAOA,IAAU6iB,EAAAvU,MAAMmY,KAAOzmB,IAAU6iB,EAAAvU,MAAMoY,OAG1CzjB,uBACJN,KAAK0gB,OAAO3J,QAASmK,IACjBlhB,KAAKgkB,oBAAoB9C,GACpBA,EAAKqB,SAAYviB,KAAK2gB,WAAWS,cAAc6C,SAAS/C,KACzD3O,EAAAvO,OAAOwf,UAAUhkB,EAAA9H,YAAYmD,OAAOG,KAAM,IACtCgF,KAAKwgB,cAAcnjB,OAAS2C,KAAKkkB,mBAAmBhD,EAAK7jB,SACzD2C,KAAKwgB,cAAcnjB,MAAQ6jB,EAAK7jB,MAChC2C,KAAKygB,WAAWpjB,MAAQ6jB,EAAK7jB,QAAU6iB,EAAAvU,MAAMoY,OAAS7D,EAAAvU,MAAMmY,IAAM5D,EAAAvU,MAAMoY,QAE5E/jB,KAAK2gB,WAAWS,cAActT,KAAKoT,MAKvC5gB,mBAEDyL,EAAAjG,MAAMuO,UAAU7U,EAAA9H,YAAY8E,kCAAoCwD,KAAKwM,yBAAyBT,EAAAjG,MAAM3I,UACnG6C,KAAK2M,gBAAgBZ,EAAAjG,MAAM3I,WAG3B6C,KAAKshB,OAAO6C,SAAU,EACtBnkB,KAAKshB,OAAOiB,SAAU,EACtBviB,KAAK+gB,SAAS5jB,SAAW4O,EAAAjG,MAAM3I,UAI/BmD,iBACAN,KAAK2gB,WAAWE,QAChB7gB,KAAKwgB,cAAc4D,eAGnBpkB,KAAKygB,WAAW2D,eAEpBpkB,KAAKkU,YAGD5T,WAEJ,MAAM+jB,GAAQrkB,KAAK2gB,WAAWE,QAE1B7gB,KAAKgV,WACLhV,KAAKskB,kBAILtkB,KAAK+gB,SAASwB,SACdviB,KAAK+gB,SAASwD,KAAK9kB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYQ,qBAG7CmsB,GAAiD,IAAzCrkB,KAAK2gB,WAAWS,cAAche,UACrCpD,KAAKugB,sBACLvgB,KAAKugB,oBAAsBvgB,KAAKugB,oBAAsBvgB,KAAKqgB,SAASjd,QAGxEpD,KAAKshB,OAAOiD,KAAKvkB,KAAK+gB,SAAS5jB,UAE/B6C,KAAK2gB,WAAa,IAAIP,EAAAoE,MACtBxkB,KAAK2gB,WAAWC,WAAayD,EAEzBrS,EAAArD,GAAGtC,iBAAmB7M,EAAA9H,YAAY8G,OAASwB,KAAKugB,sBAAwB/gB,EAAA9H,YAAYgH,iBACpFsT,EAAArD,GAAG8V,aAAazkB,OAIhBM,yBAEJuF,EAAA/F,SAAS+f,SACLrgB,EAAA9H,YAAY+D,sBAAwBuE,KAAKugB,oBAAsB,GAC/D/gB,EAAA9H,YAAYgE,0BACZ8D,EAAA9H,YAAY8D,2BACZgE,EAAA9H,YAAY6D,8BACZiE,EAAA9H,YAAYiE,gCAIZ2E,kBACJ,IAAI,IAAI7K,EAAI,EAAIA,EAAIuK,KAAKqgB,SAASjd,OAAS3N,IACvC,IAAI,IAAIif,EAAI,EAAIA,EAAI1U,KAAKqgB,SAAS5qB,GAAGivB,WAAahQ,IAAI,CAClD,MAAMiQ,EAAyBllB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYU,sBAAsB3C,IAAIgO,OAAOiR,EAAIlV,EAAA9H,YAAYW,oBACnGusB,EAAgC5kB,KAAKqgB,SAAS5qB,GAAG4H,QAAU6iB,EAAAvU,MAAMmY,IAAMvR,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQ+B,WAAa6X,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQgC,cACpKkL,EAAA/F,SAAS0C,UAAUoiB,EAAaD,IAKpCrkB,oBACJ,IAAI,IAAI7K,EAAI,EAAIA,EAAIuK,KAAKqgB,SAASjd,OAAS3N,IACvCoQ,EAAA/F,SAAS+f,SACL7f,KAAKqgB,SAAS5qB,GAAG2uB,aAAa/U,WAC9B7P,EAAA9H,YAAYa,yBACZiH,EAAA9H,YAAYc,0BACZgH,EAAA9H,YAAYY,+BAA+B7C,GAC3C+J,EAAA9H,YAAYmtB,gCAKhBvkB,wBAAwBnD,GAC5B,IAAI2nB,GAAyB9kB,KAAK4jB,eAAezmB,GAMjD,OAFA2nB,GADAA,GADAA,GADAA,EAAcA,IAAgB9kB,KAAK2hB,0BAA0BxkB,MAC/B6C,KAAK8hB,2BAA2B3kB,MAChC6C,KAAKgiB,4BAA4B7kB,MACjC6C,KAAKkiB,6BAA6B/kB,GAO7DmD,YAEH,MAAMykB,EAAmBvlB,EAAA9H,YAAYI,oBAChCuN,IAAKlI,GAAsB,IAAIgjB,EAAA6E,KAAKvlB,EAAAmC,QAAQ0E,KAAKnJ,GAAW+iB,EAAAvU,MAAMoY,SAEjEkB,EAAsBzlB,EAAA9H,YAAYO,uBACnCoN,IAAKlI,GAAsB,IAAIgjB,EAAA6E,KAAKvlB,EAAAmC,QAAQ0E,KAAKnJ,GAAW+iB,EAAAvU,MAAMmY,MAEvE9jB,KAAKghB,OAAS,IAAIb,EAAA6E,KAAKvlB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYS,qBAAsB+nB,EAAAvU,MAAMuZ,OAE5EllB,KAAK+gB,SAAW,IAAIZ,EAAA6E,KAAKvlB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYQ,mBAAoBgoB,EAAAvU,MAAM+X,OAE5E1jB,KAAKshB,OAAS,IAAIrB,EAAAkF,MAAM1lB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYQ,oBAEjD8H,KAAK0gB,OAAS,IACPqE,KACCE,EACJjlB,KAAKghB,OACLhhB,KAAK+gB,UAGT/gB,KAAKugB,oBAAsB,EAE3BvgB,KAAKqgB,SAAStJ,QAASqO,IACnBA,EAAOV,WAAa,EACpBU,EAAO/nB,MAAQ,OAEnB2C,KAAK2gB,WAAa,IAAIP,EAAAoE,MACtBxkB,KAAK8gB,SAAW,IAAIf,EAAAsF,QAGjB/kB,yBAAyBnD,GAM5B,OAL0B6C,KAAK0gB,OAAO4E,MAAOpE,GAClCA,EAAK7jB,QAAU6iB,EAAAvU,MAAM+X,OACrBxC,EAAK/jB,SAAS0X,SAAS1X,GAAYqC,EAAA9H,YAAYkE,gBAGtCoE,KAAKulB,wBAAwBpoB,GAG9CmD,gBAAgBnD,GACnB6C,KAAK+gB,SAAS5jB,SAAWA,EACzB6C,KAAK2gB,WAAWC,YAAa,EAC7B5gB,KAAKshB,OAAOiD,KAAKvkB,KAAK+gB,SAAS5jB,UAG5BmD,eAEHN,KAAK2gB,WAAWS,cAAcrK,QAASmK,IACnC,MAAMsE,EAAoBxlB,KAAK0gB,OAAO+E,QAAQvE,GAC3CA,EAAK7jB,OAAS6iB,EAAAvU,MAAM+X,OACnB1jB,KAAK0gB,OAAOhJ,OAAO8N,EAAW,KAInCxlB,KAAKwgB,cAAcnjB,QAClB2C,KAAKwgB,cAAckE,WAAa,EAAI1kB,KAAK0lB,gBAAgB1lB,KAAKwgB,cAAcnjB,OAAO+F,OAASpD,KAAK0lB,gBAAgBxF,EAAAvU,MAAMuZ,OAAO9hB,QAG/HpD,KAAKygB,WAAWpjB,QACf2C,KAAKygB,WAAWiE,WAAa,EAAI1kB,KAAK0lB,gBAAgB1lB,KAAKygB,WAAWpjB,OAAO+F,OAASpD,KAAK0lB,gBAAgBxF,EAAAvU,MAAMuZ,OAAO9hB,QAG5HpD,KAAK2gB,WAAWE,QAAU7gB,KAAK8gB,SAAS6E,YAAY3lB,KAAKwgB,cAAexgB,KAAK2gB,YAG1ErgB,aAAa4M,EAAehL,GAC5BgL,EAAQ,IACPlN,KAAKshB,OAAOpf,SAAWA,EACvBlC,KAAKshB,OAAOsE,QACZ5lB,KAAK+gB,SAAS6E,MAAM1Y,EAAOhL,GAC3BlC,KAAKshB,OAAO6C,SAAU,EACtBxQ,WAAW,IAAM3T,KAAKshB,OAAOuC,OAAQrkB,EAAA9H,YAAYkF,mCAIlD0D,SAEAN,KAAKwO,aACJxO,KAAK6lB,oBAIT7lB,KAAK8lB,uBACL9lB,KAAK+lB,mBACL/lB,KAAKsU,cACLtU,KAAKshB,OAAOjT,SACZrO,KAAK0gB,OAAO3J,QAASmK,GAAeA,EAAK7S,UAErCrO,KAAK0N,eAAkB1N,KAAKshB,OAAOiB,UACnCviB,KAAK2N,eACL3N,KAAKgmB,aAIN1lB,OACHuF,EAAA/F,SAAS0C,UAAU+P,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQE,QACxDmH,KAAKimB,yBACLjmB,KAAKkmB,kBACLlmB,KAAKmmB,oBACLnmB,KAAK0gB,OAAO3J,QAASmK,GAAeA,EAAK3M,QACzCvU,KAAKshB,OAAO/M,wFC9bpB,MAAA2L,EAAA7qB,EAAA,IAIAE,EAAA8vB,QAAA,MAEY/kB,kBAAkB8kB,EAAgBgB,GAEtC,QAAIA,IAGAhB,EAAO/nB,MAIJ+nB,EAAO/nB,QAAU+oB,GACM,IAAtBhB,EAAOV,YAAoB0B,IAAsBlG,EAAAvU,MAAMuZ,OACjC,IAAtBE,EAAOV,YAAoB0B,IAAsBlG,EAAAvU,MAAMuZ,MALpDkB,IAAsBlG,EAAAvU,MAAMuZ,OAQnC5kB,qBAAqB8kB,EAAgBhE,GACzC,GAA4B,IAAzBA,EAAche,OACb,OAAO,EAEX,GAAGgiB,EAAO/nB,MACN,OAA0B,IAAtB+nB,EAAOV,WACyB,IAAzBtD,EAAche,QAAgBge,EAAc,GAAG/jB,QAAU6iB,EAAAvU,MAAMuZ,MAG/D9D,EAAckE,MAAOpE,GAAeA,EAAK7jB,QAAU+nB,EAAO/nB,OAElE,CACH,MAAMA,EAAQ+jB,EAAc,GAAG/jB,MAC/B,OAAOA,IAAU6iB,EAAAvU,MAAM+X,OAChBrmB,IAAU6iB,EAAAvU,MAAMuZ,OAChB9D,EAAckE,MAAOpE,GAAeA,EAAK7jB,QAAUA,IAI3DiD,YAAY8kB,EAAgBiB,GAC/B,OAAOrmB,KAAKsmB,kBAAkBlB,EAAQiB,EAAM5C,yBACrCzjB,KAAKumB,qBAAqBnB,EAAQiB,EAAMjF,eAG5C9gB,WAAWkgB,EAAuBgG,EAAeC,GACpD,OAAQA,EAAUlE,UACTiE,EAAQjE,SAAwC,IAA7B/B,EAAckE,aACjC8B,EAAQjE,SAAwC,IAA7B/B,EAAckE,4FC5ClDnvB,EAAA+qB,OAAA,MAAAhgB,cAGWN,KAAA0kB,WAAqB,EACrB1kB,KAAAokB,aAAuB,mFCRlC,MAAA3R,EAAApd,EAAA,IACA0W,EAAA1W,EAAA,GACAmK,EAAAnK,EAAA,GACAkd,EAAAld,EAAA,GACAwQ,EAAAxQ,EAAA,GACAoK,EAAApK,EAAA,GACAyqB,EAAAzqB,EAAA,IAEAE,EAAA4vB,MAAA,MA2CI7kB,YAAoB2F,GAAAjG,KAAAiG,YAvCZjG,KAAA0mB,QAA4BnU,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQO,OACjE8G,KAAA2mB,UAAoB,EACpB3mB,KAAA4mB,QAAmBnnB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYuE,cAC5C+D,KAAA6mB,OAAiB,EACjB7mB,KAAA8mB,UAAoB,EACpB9mB,KAAA+mB,UAAoB,EAI5B5pB,eACI,OAAOsC,EAAAmC,QAAQ0E,KAAKtG,KAAKiG,WAG7B/D,eACI,OAAOlC,KAAK2mB,UAGhBzZ,YACI,OAAOlN,KAAK6mB,OAGhB1C,YAAmBztB,GACfsJ,KAAK8mB,SAAWpwB,EAGpB6rB,cACI,OAAOviB,KAAK+mB,SAGhBxE,YAAmB7rB,GACfsJ,KAAK+mB,SAAWrwB,EAGpBwL,aAAoBxL,GAChBsJ,KAAK2mB,UAAYjwB,EASb4J,gBACJN,KAAK6mB,QAAUrnB,EAAA9H,YAAYyE,uBAC3B6D,KAAK4mB,QAAQnjB,OAAOjE,EAAA9H,YAAY0E,0BAG5BkE,gBACJN,KAAK6mB,QAAUrnB,EAAA9H,YAAYyE,uBAC3B6D,KAAK4mB,QAAQnjB,QAAQjE,EAAA9H,YAAY0E,0BAG7BkE,qBACJ,OAAON,KAAK6mB,OAASrnB,EAAA9H,YAAY2E,gBAG7BiE,qBACJ,OAAON,KAAK6mB,QAAU,EAGlBvmB,cAEAmS,EAAAd,SAASqV,OAAOxnB,EAAA9H,YAAY+E,0BAA4BuD,KAAKinB,qBAC7DjnB,KAAKknB,gBAEAzU,EAAAd,SAASqV,OAAOxnB,EAAA9H,YAAYgF,0BAA4BsD,KAAKmnB,sBAClEnnB,KAAKonB,gBAIL9mB,iBACJ,MAAM+mB,EAAmBtb,EAAAjG,MAAM3I,SAASnF,EAAIgI,KAAKiG,UAAUjO,EACrDsvB,EAAmBvb,EAAAjG,MAAM3I,SAASpF,EAAIiI,KAAKiG,UAAUlO,EAC3DiI,KAAK2mB,UAAYtjB,KAAKkkB,MAAMF,EAAUC,GAKnChnB,OACHN,KAAK6mB,OAAS,EACd7mB,KAAK+mB,UAAW,EAChB/mB,KAAK8mB,UAAW,EAGbxmB,KAAKnD,GACR6C,KAAKiG,UAAY9I,EACjB6C,KAAK4mB,QAAUnnB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYuE,cACxC+D,KAAK8mB,UAAW,EAChB9mB,KAAK+mB,UAAW,EAGbzmB,QACHN,KAAK4mB,QAAUnnB,EAAAmC,QAAQ0E,KAAK9G,EAAA9H,YAAYwE,mBACxC,MAAMqI,EAAiBub,EAAAzO,SAASrR,KAAK6mB,OAAQ,EAAGrnB,EAAA9H,YAAY2E,gBAAiB,EAAG,GAChFkW,EAAAvO,OAAOwf,UAAUhkB,EAAA9H,YAAYmD,OAAOE,OAAQwJ,GAGzCjE,SACAN,KAAK8mB,WACJ9mB,KAAKwnB,iBACLxnB,KAAKynB,eAINnnB,OACAN,KAAK+mB,UACJlhB,EAAA/F,SAAS0C,UAAUxC,KAAK0mB,QAAS1mB,KAAKiG,UAAWjG,KAAK2mB,UAAW3mB,KAAK4mB,0FCvHlF,MAAApnB,EAAAnK,EAAA,GACAwQ,EAAAxQ,EAAA,GACA6qB,EAAA7qB,EAAA,IACAoK,EAAApK,EAAA,GACAkd,EAAAld,EAAA,GAEAE,EAAAyvB,KAAA,MAgDI1kB,YAAoB2F,EAAoB5I,GAApB2C,KAAAiG,YA1CZjG,KAAA0nB,UAAqBjoB,EAAAmC,QAAQK,KAC7BjC,KAAA2nB,SAAmB,EACnB3nB,KAAA+mB,UAAoB,EAyCxB/mB,KAAK2f,OAAStiB,EACd2C,KAAK4nB,cAAcvqB,GArCvBF,eACI,OAAOsC,EAAAmC,QAAQ0E,KAAKtG,KAAKiG,WAG7B9I,aAAoBzG,GAChBsJ,KAAKiG,UAAYvP,EAGrBkrB,mBACI,OAAO5hB,KAAK7C,SAAS8Z,IAAIjX,KAAK0nB,UAAUtF,KAAK,EAAI5iB,EAAA9H,YAAYwD,WAGjEsmB,eACI,OAAO/hB,EAAAmC,QAAQ0E,KAAKtG,KAAK0nB,WAG7BlG,aAAoB9qB,GAChBsJ,KAAK2nB,QAAUjxB,EAAM0M,OAAS,EAC9BpD,KAAK0nB,UAAYhxB,EAGrByqB,aACI,OAAOnhB,KAAK2nB,QAGhBtqB,YACI,OAAO2C,KAAK2f,OAGhB4C,cACI,OAAOviB,KAAK+mB,SAYRzmB,cAAcjD,GAClB,OAAOA,GACH,KAAK6iB,EAAAvU,MAAM+X,MACP1jB,KAAK0mB,QAAUnU,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQG,UACpD,MAEJ,KAAKonB,EAAAvU,MAAMuZ,MACPllB,KAAK0mB,QAAUnU,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQM,YACpD,MAEJ,KAAKinB,EAAAvU,MAAMmY,IACP9jB,KAAK0mB,QAAUnU,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQI,UACpD,MAEJ,KAAKmnB,EAAAvU,MAAMoY,OACP/jB,KAAK0mB,QAAUnU,EAAAvO,OAAOoQ,UAAU5U,EAAA9H,YAAYiB,QAAQK,cAOzDsH,MAAM4M,EAAe2a,GACxB7nB,KAAK0nB,UAAY,IAAIjoB,EAAAmC,QAAQsL,EAAQ7J,KAAKykB,IAAID,GAAQ3a,EAAQ7J,KAAK0kB,IAAIF,IACvE7nB,KAAK2nB,SAAU,EAGZrnB,KAAKnD,GACR6C,KAAKiG,UAAY9I,EACjB6C,KAAK0nB,UAAYjoB,EAAAmC,QAAQK,KACzBjC,KAAK+mB,UAAW,EAGbzmB,OACHN,KAAK0nB,UAAYjoB,EAAAmC,QAAQK,KACzBjC,KAAK2nB,SAAU,EACf3nB,KAAK+mB,UAAW,EAGbzmB,SACAN,KAAK2nB,UACJ3nB,KAAK0nB,UAAU5jB,OAAO,EAAItE,EAAA9H,YAAYwD,UACtC8E,KAAKiG,UAAUtC,MAAM3D,KAAK0nB,WAEvB1nB,KAAK0nB,UAAUtkB,OAAS5D,EAAA9H,YAAYoE,2BACnCkE,KAAKwhB,SAAW/hB,EAAAmC,QAAQK,KACxBjC,KAAK2nB,SAAU,IAKpBrnB,OACAN,KAAK+mB,UACJlhB,EAAA/F,SAAS0C,UAAUxC,KAAK0mB,QAAS1mB,KAAKiG,UAAW,EAAGzG,EAAA9H,YAAYmE,8FC/G5EtG,EAAAivB,MAAA,MAAAlkB,cAEWN,KAAAohB,cAAwB,GACxBphB,KAAA4gB,YAAa,EACb5gB,KAAA6gB,SAAU","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 49);\n","import { MenuActionType } from './menu/menu-action-type';\nexport const GAME_CONFIG : any = {\n\n    LOG: false,\n\n    // SIZING\n    GAME_WIDTH: 1500,\n    GAME_HEIGHT: 825,\n\n    // POSITIONS\n    RED_BALLS_POSITIONS: [\n        { x: 1056, y: 433 },\n        { x: 1090, y: 374 },\n        { x: 1126, y: 393 },\n        { x: 1126, y: 472 },\n        { x: 1162, y: 335 },\n        { x: 1162, y: 374 },\n        { x: 1162, y: 452 },\n    ],\n    YELLOW_BALLS_POSITIONS: [\n        { x: 1022, y: 413 },\n        { x: 1056, y: 393 },\n        { x: 1090, y: 452 },\n        { x: 1126, y: 354 },\n        { x: 1126, y: 433 },\n        { x: 1162, y: 413 },\n        { x: 1162, y: 491 },\n    ],\n    CUE_BALL_POSITION: { x: 413, y: 413 },\n    EIGHT_BALL_POSITION: { x: 1090, y: 413 },\n    MATCH_SCORE_POSITIONS: [\n        { x: 420, y: 27 },\n        { x: 932, y: 27 }\n    ],\n    MATCH_SCORE_MARGIN: 20,\n\n    OVERALL_SCORE_LABELS_POSITIONS: [\n        { x: 628, y: 460 },\n        { x: 778, y: 460 },\n    ],\n    OVERALL_SCORE_LABEL_FONT: '200px Impact',\n    OVERALL_SCORE_LABEL_COLOR: '#126736',\n    OVERALL_SCORE_LABEL_ALIGNMENT: 'top',\n\n    // ASSETS\n    SPRITES_BASE_PATH: 'assets/sprites/',\n    SPRITES: {\n        MAIN_MENU_BACKGROUND : \"main_menu_background.png\",\n        TABLE : \"spr_background4.png\",\n        CUE_BALL : \"spr_ball2.png\",\n        RED_BALL : \"spr_redBall2.png\",\n        YELLOW_BALL : \"spr_yellowBall2.png\",\n        BLACK_BALL : \"spr_blackBall2.png\",\n        STICK : \"spr_stick.png\",\n        TWO_PLAYERS_BUTTON : \"2_players_button.png\",\n        TWO_PLAYERS_BUTTON_HOVERED : \"2_players_button_hover.png\",\n        ONE_PLAYER_BUTTON : \"1_player_button.png\",\n        ONE_PLAYER_BUTTON_HOVERED : \"1_player_button_hover.png\",\n        MUTE_BUTTON : \"mute_button.png\",\n        MUTE_BUTTON_HOVERED : \"mute_button_hover.png\",\n        MUTE_BUTTON_PRESSED : \"mute_button_pressed.png\",\n        MUTE_BUTTON_PRESSED_HOVERED : \"mute_button_pressed_hover.png\",\n        EASY_BUTTON : \"easy_button.png\",\n        EASY_BUTTON_HOVERED : \"easy_button_hover.png\",\n        MEDIUM_BUTTON : \"medium_button.png\",\n        MEDIUM_BUTTON_HOVERED : \"medium_button_hover.png\",\n        HARD_BUTTON : \"hard_button.png\",\n        HARD_BUTTON_HOVERED : \"hard_button_hover.png\",\n        BACK_BUTTON : \"back_button.png\",\n        BACK_BUTTON_HOVERED : \"back_button_hover.png\",\n        CONTINUE_BUTTON : \"continue_button.png\",\n        CONTINUE_BUTTON_HOVERED : \"continue_button_hover.png\",\n        INSANE_BUTTON : \"insane_button.png\",\n        INSANE_BUTTON_HOVERED : \"insane_button_hover.png\",\n        ABOUT_BUTTON : \"about_button.png\",\n        ABOUT_BUTTON_HOVERED : \"about_button_hover.png\",\n        CONTROLS : \"controls.png\",\n        RED_SCORE: \"red_score.png\",\n        YELLOW_SCORE: \"yellow_score.png\",\n    },\n    SOUNDS_BASE_PATH: 'assets/sounds/',\n    SOUNDS: {\n        BALLS_COLLIDE: \"BallsCollide.wav\",\n        STRIKE: \"Strike.wav\",\n        RAIL: \"Hole.wav\",\n        // Bossa Antigua Kevin MacLeod (incompetech.com)\n        // Licensed under Creative Commons: By Attribution 3.0 License\n        // http://creativecommons.org/licenses/by/3.0/\n        MUSIC: \"Bossa Antigua.mp3\"\n    },\n\n    // PHYSICS\n    FRICTION: 0.0208,\n    COLLISION_LOSS: 0.0208,\n\n    // TABLE\n    CUSHION_WIDTH: 57,\n    POCKET_RADIUS: 48,\n    POCKETS_POSITIONS: [\n        { x: 62, y: 62 },\n        { x: 750, y: 32 },\n        { x: 1435, y: 62 },\n        { x: 62, y: 762 },\n        { x: 750, y: 794 },\n        { x: 1435, y: 762 },\n    ],\n\n    // LABELS\n    CURRENT_PLAYER_LABEL_POSITION: { x: 640, y: 260},\n    CURRENT_PLAYER_LABEL_COLOR: '#126736',\n    CURRENT_PLAYER_LABEL: 'PLAYER ',\n    CURRENT_PLAYER_LABEL_FONT: '70px Impact',\n    CURRENT_PLAYER_LABEL_ALIGNMENT: 'top',\n\n    // BALL\n    BALL_DIAMETER: 38,\n    BALL_ORIGIN: { x: 25, y: 25 },\n    BALL_MIN_VELOCITY_LENGTH: 0.05,\n    MAX_BALL_EXPECTED_VELOCITY: 200,\n    MAX_BALL_EXPECTED_COLLISION_FORCE: 100,\n\n    // STICK\n    STICK_ORIGIN: { x: 970, y: 11 },\n    STICK_SHOT_ORIGIN: { x: 950, y: 11 },\n    POWER_TO_ADD_PER_FRAME: 1,\n    STICK_MOVEMENT_PER_FRAME: 2,\n    STICK_MAX_POWER: 65,\n\n    // KEYS\n    SELECT_MOUSE_BUTTON: 0,\n    SHOOT_MOUSE_BUTTON: 0,\n    PLACE_BALL_IN_HAND_MOUSE_BUTTON: 0,\n    INCREASE_SHOT_POWER_KEY: 87,\n    DECREASE_SHOT_POWER_KEY: 83,\n    BACK_TO_MENU_KEY: 27,\n\n    // TIMING\n    TIMEOUT_TO_HIDE_STICK_AFTER_SHOT: 500,\n    TIMOUT_TO_HIDE_BALL_AFTER_POCKET: 100,\n    LOADING_SCREEN_TIMEOUT: 5000,\n    TIMEOUT_TO_LOAD_MENU: 100,\n\n    // MENU\n    MAIN_MENU_CONFIG : {\n        LABELS: [\n            {\n                text: 'Classic 8-Ball',\n                position: { x: 200, y: 100 },\n                font: '100px Bookman',\n                color: 'white',\n                alignment: 'left',\n            },\n            {\n                text: ` ${new Date().getFullYear()} Chen Shmilovich`,\n                position: { x: 1250, y: 800 },\n                font: '20px Bookman',\n                color: 'white',\n                alignment: 'left',\n            }\n        ],\n        BUTTONS: [\n            { \n                action: MenuActionType.PVP,\n                position: { x: 200, y: 200 },\n                sprite: 'TWO_PLAYERS_BUTTON', \n                spriteOnHover: 'TWO_PLAYERS_BUTTON_HOVERED', \n            },\n            { \n                action: MenuActionType.GoToSubMenu,\n                value: 0,\n                position: { x: 200, y: 400 },\n                sprite: 'ONE_PLAYER_BUTTON', \n                spriteOnHover: 'ONE_PLAYER_BUTTON_HOVERED', \n            },\n            { \n                action: MenuActionType.ToggleSound,\n                position: { x: 1430, y: 10 },\n                sprite: 'MUTE_BUTTON', \n                spriteOnHover: 'MUTE_BUTTON_HOVERED', \n            },\n        ],\n        SUB_MENUS: [\n            {\n                LABELS: [\n                    {\n                        text: 'Choose Difficulty',\n                        position: { x: 200, y: 80 },\n                        font: '70px Bookman',\n                        color: 'white',\n                        alignment: 'left',\n                    },\n                    {\n                        text: ` ${new Date().getFullYear()} Chen Shmilovich`,\n                        position: { x: 1250, y: 800 },\n                        font: '20px Bookman',\n                        color: 'white',\n                        alignment: 'left',\n                    }\n                ],\n                BUTTONS: [\n                    {\n                        action: MenuActionType.GoToPreviousMenu,\n                        position: { x: 100, y: 150 },\n                        sprite: 'BACK_BUTTON', \n                        spriteOnHover: 'BACK_BUTTON_HOVERED', \n                    },\n                    {\n                        action: MenuActionType.PVC,\n                        position: { x: 200, y: 150 },\n                        value: 30,\n                        sprite: 'EASY_BUTTON',\n                        spriteOnHover: 'EASY_BUTTON_HOVERED'\n                    },\n                    {\n                        action: MenuActionType.PVC,\n                        position: { x: 200, y: 300 },\n                        value: 50,\n                        sprite: 'MEDIUM_BUTTON',\n                        spriteOnHover: 'MEDIUM_BUTTON_HOVERED'\n                    },\n                    {\n                        action: MenuActionType.PVC,\n                        position: { x: 200, y: 450 },\n                        value: 100,\n                        sprite: 'HARD_BUTTON',\n                        spriteOnHover: 'HARD_BUTTON_HOVERED'\n                    },\n                    {\n                        action: MenuActionType.PVC,\n                        position: { x: 200, y: 600 },\n                        value: 700,\n                        sprite: 'INSANE_BUTTON',\n                        spriteOnHover: 'INSANE_BUTTON_HOVERED'\n                    },\n                    { \n                        action: MenuActionType.ToggleSound,\n                        position: { x: 1430, y: 10 },\n                        sprite: 'MUTE_BUTTON', \n                        spriteOnHover: 'MUTE_BUTTON_HOVERED', \n                    },\n                ],\n                SUB_MENUS: []\n            }\n        ]\n    },\n    \n    DEFAULT_CURSOR: 'default',\n    BUTTON_CURSOR: 'pointer',\n\n    // LOADING SCREEN\n    LOADING_SCREEN_IMAGE_POSITION: { x: 450, y: 112.5 },\n\n    SOUND_ON: true,\n\n    // AI\n    AI_ON: true,\n    AI_TRAIN_ITERATIONS: 30,\n    AI_PLAYER_INDEX: 1,\n    AI_BALL_DISTANCE_BONUS: 1/5800,\n    AI_VALID_TURN_BONUS: 5000,\n    AI_POCKETED_BALLS_BONUS: 2000,\n    AI_INVLID_TURN_PENALTY: 3000,\n    AI_GAME_WON_BONUS: 50000,\n    AI_GAME_LOSS_PENALTY: 50000,\n    AI_SHOT_POWER_MUTATION_VARIANCE: 15,\n    AI_MIN_SHOT_POWER: 10,\n    \n};\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import { GAME_CONFIG } from './game.config';\nimport { Vector2 } from './geom/vector2';\n\nclass Canvas2D_Singleton {\n\n    //------Members------//\n\n    private _canvasContainer: HTMLElement;\n    private _canvas : HTMLCanvasElement;\n    private _context : CanvasRenderingContext2D;\n    private _scale: Vector2;\n    private _offset: Vector2;\n\n    //------Properties------//\n    \n    public get scaleX() {\n        return this._scale.x;\n    }\n\n    public get scaleY() {\n        return this._scale.y;\n    }\n\n    public get offsetX() {\n        return this._offset.x;\n    }\n\n    public get offsetY() {\n        return this._offset.y;\n    }\n\n    //------Constructor------//\n\n    constructor(canvas : HTMLCanvasElement, canvasContainer: HTMLElement) {\n        this._canvasContainer = canvasContainer;\n        this._canvas = canvas;\n        this._context = this._canvas.getContext('2d');\n        this.resizeCanvas();\n    }\n\n    //------Public Methods------//\n\n    public resizeCanvas(): void {\n        \n        const originalCanvasWidth = GAME_CONFIG.GAME_WIDTH;\n        const originalCanvasHeight = GAME_CONFIG.GAME_HEIGHT;\n        const widthToHeight: number = originalCanvasWidth / originalCanvasHeight;\n\n        let newHeight: number = window.innerHeight;\n        let newWidth: number = window.innerWidth;\n       \n        const newWidthToHeight: number = newWidth / newHeight;\n\n        if (newWidthToHeight > widthToHeight) {\n            newWidth = newHeight * widthToHeight;\n        } else {\n            newHeight = newWidth / widthToHeight;\n        }\n        \n        this._canvasContainer.style.width = newWidth + 'px';\n        this._canvasContainer.style.height = newHeight + 'px';\n        this._canvasContainer.style.marginTop = (window.innerHeight - newHeight) / 2 + 'px';\n        this._canvasContainer.style.marginLeft = (window.innerWidth - newWidth) / 2 + 'px';\n        this._canvasContainer.style.marginBottom = (window.innerHeight - newHeight) / 2 + 'px';\n        this._canvasContainer.style.marginRight = (window.innerWidth - newWidth) / 2 + 'px';\n        this._scale = new Vector2(newWidth / originalCanvasWidth, newHeight / originalCanvasHeight);\n\n        this._canvas.width = newWidth;\n        this._canvas.height = newHeight;\n        \n        if (this._canvas.offsetParent) {\n            this._offset = new Vector2(this._canvas.offsetLeft, this._canvas.offsetTop);\n        }\n    }\n\n\n    public clear() : void {\n        this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\n    }\n\n    public drawImage(\n            sprite: HTMLImageElement,\n            position: Vector2 = Vector2.zero, \n            rotation: number = 0, \n            origin: Vector2 = Vector2.zero\n        ) {    \n        this._context.save();\n        this._context.scale(this._scale.x, this._scale.y);\n        this._context.translate(position.x, position.y);\n        this._context.rotate(rotation);\n        this._context.drawImage(sprite, 0, 0, sprite.width, sprite.height, -origin.x, -origin.y, sprite.width, sprite.height);\n        this._context.restore();\n    }\n\n\n    public drawText(text: string, font:string, color: string, position: Vector2, textAlign: string = 'left'): void {\n        this._context.save();\n        this._context.scale(this._scale.x, this._scale.y);\n        this._context.fillStyle = color;\n        this._context.font = font;\n        this._context.textAlign = textAlign as CanvasTextAlign;\n        this._context.fillText(text, position.x, position.y);\n        this._context.restore();\n    }\n\n    public changeCursor(cursor: string): void {\n        this._canvas.style.cursor = cursor;\n    }\n}\n\nconst canvas : HTMLCanvasElement = document.getElementById('screen') as HTMLCanvasElement;\nconst container : HTMLElement = document.getElementById('gameArea') as HTMLElement;\nexport const Canvas2D = new Canvas2D_Singleton(canvas, container);\n\nwindow.addEventListener('resize', Canvas2D.resizeCanvas.bind(Canvas2D));\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","\nexport class Vector2 {\n\n    //------Members------//\n\n    private _x: number;\n    private _y: number;\n\n    //------Constructor------//\n\n    constructor(x: number, y: number) {\n        this._x = x;\n        this._y = y;\n    }\n\n    //------Properties------//\n\n    get x() {\n        return this._x;\n    }\n    \n    get y() {\n        return this._y;\n    }\n\n    static get zero() {\n        return new Vector2(0, 0);\n    }\n\n    get length(): number {\n        return Math.sqrt(Math.pow(this._x, 2) + Math.pow(this._y, 2));\n    }\n\n    //------Public Methods------//\n\n    public static copy(vector: Vector2) {\n        return new Vector2(vector.x, vector.y);\n    }\n\n    public addX(x: number): Vector2 {\n        return new Vector2(this._x, this._y).addToX(x);\n    }\n\n    public addY(y: number): Vector2 {\n        return new Vector2(this._x, this._y).addToY(y);\n    }\n\n    public addToX(x: number): Vector2 {\n        this._x += x;\n        return this;\n    }\n\n    public addToY(y: number): Vector2 {\n        this._y += y;\n        return this;\n    }\n\n    public addTo(vector: Vector2): Vector2 {\n        return this.addToX(vector.x).addToY(vector.y);\n    }\n\n    public add(vector: Vector2): Vector2 {\n        return new Vector2(this._x, this._y).addTo(vector);\n    }\n\n    public subtractTo(vector: Vector2): Vector2 {\n        this._x -= vector.x;\n        this._y -= vector.y;\n        return this;\n    }\n\n    public subtract(vector: Vector2): Vector2 {\n        return new Vector2(this._x, this._y).subtractTo(vector);\n    }\n\n    public mult(v: number): Vector2 {\n        return new Vector2(this._x, this._y).multBy(v);\n    }\n\n    public multBy(v: number): Vector2 {\n        this._x *= v;\n        this._y *= v;\n        return this;\n    }\n\n    public dot(vector: Vector2): number {\n        return this._x * vector.x + this._y * vector.y;\n    }\n\n    public distFrom(vector: Vector2): number {\n        return this.subtract(vector).length;\n    }\n}","import { GAME_CONFIG } from './game.config';\n\nclass Assets_Singleton {\n\n    _sprites: Map<string, HTMLImageElement>;\n    _sounds: Map<string, HTMLAudioElement>;\n\n    constructor() {\n        this._sprites = new Map<string, HTMLImageElement>();\n        this._sounds = new Map<string, HTMLAudioElement>();\n    }\n\n    public async loadGameAssets(): Promise<void> {\n        await this.loadGameSprites();\n        await this.loadGameSounds();\n    }\n\n    public getSprite(key: string): HTMLImageElement {\n        return this._sprites.get(key);\n    }\n\n    public getSound(key: string): HTMLAudioElement {\n        return this._sounds.get(key).cloneNode(true) as HTMLAudioElement;\n    }\n\n    public playSound(key: string, volume: number): void {\n        if(GAME_CONFIG.SOUND_ON) {\n            const sound = this.getSound(key);\n            sound.volume = volume;\n            sound.play();\n        }\n    }\n\n    private loadSprite(path: string): Promise<void> {\n        const img = new Image();\n        this._sprites.set(path, img);\n\n        return new Promise(resolve => {\n            img.onload = () => resolve();\n            img.src = GAME_CONFIG.SPRITES_BASE_PATH + path;\n        });\n    }\n    \n    private async loadGameSprites(): Promise<void> {\n        const loadPromises = Object.values(GAME_CONFIG.SPRITES).map(this.loadSprite.bind(this));\n\n        await Promise.all(loadPromises);\n    }\n\n    private loadSound(path: string): Promise<void> {\n        const audio: HTMLAudioElement = new Audio();\n        this._sounds.set(path, audio);\n\n        return new Promise(resolve => {\n            audio.src = GAME_CONFIG.SOUNDS_BASE_PATH + path;\n            resolve();\n        });\n    }\n\n    private async loadGameSounds(): Promise<void> {\n        const loadPromises = Object.values(GAME_CONFIG.SOUNDS).map(this.loadSound.bind(this));\n        \n        await Promise.all(loadPromises);\n    }\n\n}\n\nexport const Assets = new Assets_Singleton();","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","import { ButtonState } from './button-state';\nimport { Canvas2D } from '../canvas';\nimport { Vector2 } from '../geom/vector2';\n\nclass Mouse_Singleton {\n\n    private _buttonStates: ButtonState[] = [];\n    private _position: Vector2;\n\n    public get position() {\n        return Vector2.copy(this._position);\n    }\n\n    constructor() {\n\n        for(let i = 0 ; i < 3 ; i ++ ) {\n            this._buttonStates[i] = new ButtonState();\n        }\n\n        this._position = Vector2.zero;\n\n        document.addEventListener('mousemove', (event) => this.handleMouseMove(event));\n        document.addEventListener('mousedown', (event) => this.handleMouseDown(event));\n        document.addEventListener('mouseup', (event) => this.handleMouseUp(event));\n    }\n\n    private handleMouseMove(event: MouseEvent): void {\n        const mouseX: number = (event.pageX - Canvas2D.offsetX) / Canvas2D.scaleX;\n        const mouseY: number = (event.pageY - Canvas2D.offsetY) / Canvas2D.scaleY;\n        this._position = new Vector2(mouseX, mouseY);\n    }\n\n    private handleMouseDown(event: MouseEvent) {\n        this._buttonStates[event.button].down = true;\n        this._buttonStates[event.button].pressed = true;\n    }\n\n    private handleMouseUp(event: MouseEvent) {\n        this._buttonStates[event.button].down = false;\n    }\n\n    public reset() : void {\n        for(let i = 0 ; i < 3 ; i++ ) {\n            this._buttonStates[i].pressed = false;\n        }\n    }\n\n    public isDown(button: number): boolean {\n        return this._buttonStates[button].down;\n    }\n    \n    public isPressed(button: number): boolean {\n        return this._buttonStates[button].pressed;\n    }\n}\n\nexport const Mouse = new Mouse_Singleton();","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","\nexport enum Color {\n    white = '#BABABA',\n    black = '#2B2B2B',\n    red = '#B62A2F',\n    yellow = '#FECA34'\n}","import { Vector2 } from './../geom/vector2';\nimport { GAME_CONFIG } from './../game.config';\nimport { GameWorld } from './../game-objects/game-world';\nimport { AIOpponent } from './ai-opponent';\nimport { AIPolicy } from './ai-policy';\nimport cloneDeep = require('lodash/cloneDeep');\nimport { Mouse } from '../input/mouse';\n\nexport class AITrainer {\n\n    private _policy: AIPolicy;\n    private _opponents: AIOpponent[];\n    private _currentOpponent: AIOpponent;\n    private _initialGameWorld: GameWorld;\n    private _gameWorld: GameWorld;\n    private _iteration: number = 0;\n    private _finishedSession: boolean = true;\n    private _bestOpponent: AIOpponent;\n\n    public get finishedSession() : boolean {\n        return this._finishedSession;\n    }\n\n    constructor() {\n        this._policy = new AIPolicy();\n    }\n\n    private placeBallInHand(): void {\n        debugger;\n        \n        let marginX = 5;\n        let pos = Vector2.copy(GAME_CONFIG.CUE_BALL_POSITION);\n\n        while(!this._initialGameWorld.isValidPosToPlaceCueBall(pos)) {\n            console.log(pos);\n            pos.addToX(marginX);\n        }\n\n        this._initialGameWorld.placeBallInHand(pos);\n    }\n\n    private init(): void {\n        this._opponents = [];\n        this._currentOpponent = this.createRandomOpponent();\n        this._bestOpponent = this._currentOpponent;\n        this._iteration = 0;\n    }\n\n    private createMutation(opponent: AIOpponent): AIOpponent {\n        let newPower = opponent.power;\n        newPower += (Math.random() * 2 * GAME_CONFIG.AI_SHOT_POWER_MUTATION_VARIANCE) - GAME_CONFIG.AI_SHOT_POWER_MUTATION_VARIANCE;\n        newPower = newPower < GAME_CONFIG.AI_MIN_SHOT_POWER ? GAME_CONFIG.AI_MIN_SHOT_POWER : newPower;\n        newPower = newPower > GAME_CONFIG.STICK_MAX_POWER ? GAME_CONFIG.STICK_MAX_POWER : newPower;\n    \n        let newRotation = opponent.rotation;\n    \n        if(opponent.evaluation > 0){\n            newRotation += (1 / opponent.evaluation)*(Math.random() * 2 * Math.PI - Math.PI)\n        }\n        else{\n            newRotation = (Math.random() * 2 * Math.PI - Math.PI);\n        }\n\n        return new AIOpponent(newPower, newRotation);\n    }\n\n    private createRandomOpponent(): AIOpponent {\n        const power: number = (Math.random() * 75 + 1);\n        const rotation: number = (Math.random() * 2 * Math.PI);\n\n        return new AIOpponent(power, rotation);\n    }\n\n    private train(): void {\n\n        if(this._iteration === GAME_CONFIG.AI_TRAIN_ITERATIONS){\n            this.playTurn();\n            this._finishedSession = true;\n            return;\n        }\n\n        if(this._gameWorld.isBallsMoving) return;\n        this._gameWorld.concludeTurn();\n\n        this._currentOpponent.evaluation = this._policy.evaluate(this._gameWorld);\n\n        const current: AIOpponent = new AIOpponent(\n            this._currentOpponent.power,\n            this._currentOpponent.rotation,\n            this._currentOpponent.evaluation);\n\n        this._opponents.push(current);\n\n        if(current.evaluation > this._bestOpponent.evaluation){\n            this._bestOpponent = current;\n        }\n\n        if(GAME_CONFIG.LOG){\n            console.log('-------------'+new Number(this._iteration+1)+'--------------------');\n            console.log('Current evaluation: ' + this._currentOpponent.evaluation);\n            console.log('Current power: ' + this._currentOpponent.power);\n            console.log('Current rotation: ' + this._currentOpponent.rotation);\n            console.log('---------------------------------');\n        }\n\n        this._gameWorld = cloneDeep(this._initialGameWorld);\n        this._currentOpponent = this.buildNewOpponent();\n        this._iteration++;\n        this.simulate();\n    }\n\n    public buildNewOpponent(): AIOpponent {\n        if(this._iteration % 10 === 0){\n            return this.createRandomOpponent();\n        }\n        else {\n            return this.createMutation(this._bestOpponent);\n        }    \n    }\n\n    public playTurn(): void {\n        this._initialGameWorld.shootCueBall(this._bestOpponent.power, this._bestOpponent.rotation);\n    }\n\n    public simulate(): void {\n        this._gameWorld.shootCueBall(this._currentOpponent.power, this._currentOpponent.rotation);\n    }\n\n    public opponentTrainingLoop(): void {\n        GAME_CONFIG.SOUND_ON = false;\n\n        while(!this._finishedSession){\n            this.train();\n            this._gameWorld.update();\n        }\n\n        Mouse.reset();\n\n    }\n\n    public startSession(gameWorld: GameWorld): void {\n        this._initialGameWorld = gameWorld;\n        if(this._gameWorld.isBallInHand) {\n            this.placeBallInHand();\n        }\n        this._gameWorld = cloneDeep(gameWorld);\n        this.init();\n        this._finishedSession = false;\n\n        this.simulate();\n        this.opponentTrainingLoop();\n    }\n}\n\nexport const AI = new AITrainer();","\nexport enum MenuActionType {\n    CONTINUE,\n    PVP,\n    PVC,\n    ToggleSound,\n    GoToSubMenu,\n    GoToPreviousMenu\n}","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","\nexport class ButtonState {\n    \n    public down = false;\n    public pressed = false;\n    \n    constructor() {\n        \n    }\n}","\nexport const mapRange = (num: number, in_min: number, in_max: number, out_min: number, out_max: number) => {\n    let value: number = (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n    value  = value < out_min ? out_min : value;\n    value = value > out_max ? out_max : value;\n    return value;\n}","import { ButtonState } from './button-state';\n\nclass Keyboard_Singleton {\n\n    //------Members------//\n\n    _keyStates : ButtonState[] = [];\n    \n    //------Constructor------//\n\n    constructor() {\n        for(let i = 0 ; i < 256 ; i++ ) {\n            this._keyStates[i] =  new ButtonState();\n        }\n        \n        document.addEventListener('keyup', (event) => this.handleKeyUp(event));\n        document.addEventListener('keydown', (event) => this.handleKeyDown(event));\n    }\n\n    //------Private Methods------//\n\n    private handleKeyUp(event: KeyboardEvent): void {\n        this._keyStates[event.keyCode].down = false;\n    }\n\n    private handleKeyDown(event: KeyboardEvent): void {\n        this._keyStates[event.keyCode].pressed = true;\n        this._keyStates[event.keyCode].down = true;\n    }\n\n    //------Public Methods------//\n\n    public reset() : void {\n        for(let i = 0 ; i < 256 ; i++ ) {\n            this._keyStates[i].pressed = false;\n        }\n    }\n\n    public isDown(keyCode: number): boolean {\n        return this._keyStates[keyCode].down;\n    }\n    \n    public isPressed(keyCode: number): boolean {\n        return this._keyStates[keyCode].pressed;\n    }\n}\n\nexport const Keyboard = new Keyboard_Singleton();","import { AI } from './ai/ai-trainer';\nimport { GoToPreviousMenuCommand } from './menu/commands/go-to-previous-menu-command';\nimport { GoToSubMenuCommand } from './menu/commands/go-to-sub-menu-command';\nimport { ToggleSoundCommand } from './menu/commands/toggle-sound-command';\nimport { PVCCommand } from './menu/commands/pvc-command';\nimport { PVPCommand } from './menu/commands/pvp-command';\nimport { IMenuCommand } from './menu/commands/menu-command';\nimport { GAME_CONFIG } from './game.config';\nimport { MenuActionType } from './menu/menu-action-type';\nimport { Menu } from './menu/menu';\nimport { Assets } from './assets';\nimport { GameWorld } from './game-objects/game-world';\nimport { Keyboard } from './input/keyboard';\nimport { Canvas2D } from './canvas';\nimport { Mouse } from './input/mouse';\n\nexport class Game {\n    private _menuActionsMap: Map<MenuActionType, IMenuCommand>;\n    private _previousMenus: Menu[] = [];\n    private _menu: Menu = new Menu();\n    private _poolGame: GameWorld;\n    private _isLoading: boolean;\n    private _inGame: boolean;\n\n    private initMenuActions(): void {\n        this._menuActionsMap = new Map<MenuActionType, IMenuCommand>();\n        this._menuActionsMap.set(MenuActionType.PVP, new PVPCommand(this));\n        this._menuActionsMap.set(MenuActionType.PVC, new PVCCommand(this));\n        this._menuActionsMap.set(MenuActionType.ToggleSound, new ToggleSoundCommand());\n        this._menuActionsMap.set(MenuActionType.GoToSubMenu, new GoToSubMenuCommand(this));\n        this._menuActionsMap.set(MenuActionType.GoToPreviousMenu, new GoToPreviousMenuCommand(this));\n    }\n\n    private initMainMenu(): void {\n        this._menu.init(this._menuActionsMap, GAME_CONFIG.MAIN_MENU_CONFIG);\n    }\n\n    public async init(): Promise<void> {\n        await Assets.loadGameAssets();\n\n        this.initMenuActions();\n        this.initMainMenu();\n        this._menu.active = true;\n        this._poolGame = new GameWorld();\n        this.gameLoop();\n    }\n\n    public goToSubMenu(index: number): void {\n        setTimeout(() => {\n            if(this._menu){\n                this._menu.active = false;\n                this._previousMenus.push(this._menu);\n            }\n            this._menu = this._menu.getSubMenu(index);\n            this._menu.active = true;   \n        }, GAME_CONFIG.TIMEOUT_TO_LOAD_SUB_MENU);\n    }\n    \n    public goToPreviousMenu(): void {\n        if(this._previousMenus.length > 0) {\n            setTimeout(() => {\n                this._menu.active = false;\n                this._menu = this._previousMenus.pop();\n                this._menu.active = true; \n            }, GAME_CONFIG.TIMEOUT_TO_LOAD_SUB_MENU);\n        }\n    }\n\n    public start(): void {\n        this.displayLoadingScreen().then(() => {\n            this._menu.active = false;\n            this._inGame = true;\n            this._poolGame = new GameWorld();\n            this._poolGame.initMatch();\n        });\n    }\n\n    private displayLoadingScreen(): Promise<void> {\n        return new Promise((resolve) => {\n            this._isLoading = true;\n            Canvas2D.clear();\n            Canvas2D.drawImage(\n                Assets.getSprite(GAME_CONFIG.SPRITES.CONTROLS),\n                GAME_CONFIG.LOADING_SCREEN_IMAGE_POSITION\n                );\n            setTimeout(() => {\n                this._isLoading = false;\n                resolve();\n            }, GAME_CONFIG.LOADING_SCREEN_TIMEOUT);\n        });\n    }\n\n    private handleInput(): void {\n        if(this._inGame && Keyboard.isPressed(GAME_CONFIG.BACK_TO_MENU_KEY)) {\n            if(this._menu.active) {\n                this._menu.active = false;\n            }\n            else {\n                this.initMainMenu();\n                this._menu.active = true;\n            }\n        }\n    }\n\n    private update(): void {\n        if (this._isLoading) return;\n        this.handleInput();\n        this._menu.active ? this._menu.update() : this._poolGame.update();\n        Keyboard.reset();\n        Mouse.reset();\n    }\n\n    private draw(): void {\n        if (this._isLoading) return;\n        if(AI.finishedSession){\n            Canvas2D.clear();\n            this._menu.active ? this._menu.draw() : this._poolGame.draw();\n        }\n    }\n\n    private gameLoop(): void {\n        this.update();\n        this.draw();\n        window.requestAnimationFrame(() => {\n            this.gameLoop();\n        });\n    }\n\n}\n\nconst game = new Game();\ngame.init();","export class AIOpponent {\n\n    constructor(public power: number = 50, \n                public rotation: number = 0, \n                public evaluation: number = 0){}\n}","import { GAME_CONFIG } from './../game.config';\nimport { GameWorld } from './../game-objects/game-world';\n\nexport class AIPolicy {\n\n    constructor() {}\n\n    public evaluate(gameWorld: GameWorld): number {\n\n        let evaluation: number = 1;\n\n        for (let i = 0 ; i < gameWorld.balls.length; i++){\n            for(let j = i + 1 ; j < gameWorld.balls.length ; j++){\n    \n                let firstBall = gameWorld.balls[i];\n                let secondBall = gameWorld.balls[j];\n    \n                evaluation += firstBall.position.distFrom(secondBall.position) * GAME_CONFIG.AI_BALL_DISTANCE_BONUS;\n            }\n        }\n\n        if (gameWorld.isTurnValid) {\n            evaluation += GAME_CONFIG.AI_VALID_TURN_BONUS;\n            evaluation += GAME_CONFIG.AI_POCKETED_BALLS_BONUS * gameWorld.numOfPocketedBallsOnTurn;\n            \n            if (gameWorld.isGameOver) {\n                evaluation += GAME_CONFIG.AI_GAME_WON_BONUS;\n            }\n        }\n        else {\n            evaluation = evaluation - GAME_CONFIG.AI_INVLID_TURN_PENALTY;\n\n            if (gameWorld.isGameOver) {\n                evaluation -= GAME_CONFIG.AI_GAME_LOSS_PENALTY;\n            }\n        }\n\n        return evaluation;\n    }\n}","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n\n    return result;\n  }\n\n  if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n\n    return result;\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","import { IMenuCommand } from './menu-command';\nimport { Game } from '../../game';\n\nexport class GoToPreviousMenuCommand implements IMenuCommand {\n\n    constructor(private _game: Game) {}\n    \n    execute(): void {\n        this._game.goToPreviousMenu();\n    }\n\n}","import { Game } from '../../game';\nimport { IMenuCommand } from './menu-command';\n\nexport class GoToSubMenuCommand implements IMenuCommand {\n\n    constructor(private _game: Game) {}\n\n    execute(value: any): void {\n       this._game.goToSubMenu(value);\n    }\n\n}","import { IMenuCommand } from './menu-command';\nimport { GAME_CONFIG } from '../../game.config';\n\nexport class ToggleSoundCommand implements IMenuCommand {\n    \n    private toggleMuteButtonSprite(): void {\n        const currentMuteButtonPath: string = GAME_CONFIG.SPRITES.MUTE_BUTTON;\n        const currentMuteButtonHoveredPath: string = GAME_CONFIG.SPRITES.MUTE_BUTTON_HOVERED;\n        GAME_CONFIG.SPRITES.MUTE_BUTTON = GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED;\n        GAME_CONFIG.SPRITES.MUTE_BUTTON_HOVERED = GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED_HOVERED;\n        GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED = currentMuteButtonPath;\n        GAME_CONFIG.SPRITES.MUTE_BUTTON_PRESSED_HOVERED = currentMuteButtonHoveredPath;\n    }\n    public execute(): void {\n        GAME_CONFIG.SOUND_ON = !GAME_CONFIG.SOUND_ON;\n        this.toggleMuteButtonSprite();\n    }\n\n}","import { GAME_CONFIG } from './../../game.config';\nimport { IMenuCommand } from './menu-command';\nimport { Game } from '../../game';\n\nexport class PVCCommand implements IMenuCommand {\n   \n    constructor(private _game: Game) {}\n    \n    execute(iterationsValue: number): void {\n        GAME_CONFIG.AI_ON = true;\n        GAME_CONFIG.AI_TRAIN_ITERATIONS = iterationsValue;\n        this._game.start();\n    }\n}","import { GAME_CONFIG } from './../../game.config';\nimport { Game } from '../../game';\nimport { IMenuCommand } from './menu-command';\n\nexport class PVPCommand implements IMenuCommand {\n    \n    constructor(private _game: Game) {}\n    \n    execute(): void {\n        GAME_CONFIG.AI_ON = false;\n        this._game.start();\n    }\n\n}","import { IMenuCommand } from './commands/menu-command';\nimport { MenuButton } from './menu-button';\nimport { Assets } from '../assets';\nimport { Canvas2D } from '../canvas';\nimport { GAME_CONFIG } from '../game.config';\nimport { MenuActionType } from './menu-action-type';\nimport { MenuLabel } from './menu-label';\n\nexport class Menu {\n\n    private _labels: MenuLabel[];\n    private _buttons: MenuButton[]\n    private _active: boolean;\n    private _subMenus: Menu[]\n\n    public set active(value: boolean) {\n        this._active = value;\n    }\n\n    public get active(): boolean {\n        return this._active;\n    }\n\n    public init(actionsMap: Map<MenuActionType, IMenuCommand>, config: any): void {\n        this._buttons = config.BUTTONS.map((button: any) => {\n            return new MenuButton(\n                    actionsMap.get(button.action),\n                    button.value,\n                    button.position, \n                    button.sprite, \n                    button.spriteOnHover,\n                );\n        });\n\n        this._labels = config.LABELS.map((label: any) => {\n            return new MenuLabel(\n                    label.text, \n                    label.position, \n                    label.font, \n                    label.color, \n                    label.alignment\n                );\n        });\n\n        this._subMenus = config.SUB_MENUS.map((menu: any) => {\n            const subMenu = new Menu();\n            subMenu.init(actionsMap, menu);\n            return subMenu;\n        });\n    }\n\n    public getSubMenu(index: number) {\n        return this._subMenus[index];\n    }\n\n    public update(): void {\n        if(this._active) {\n            this._buttons.forEach((button: MenuButton) => button.update());\n        }\n\n        this._subMenus.forEach((menu: Menu) => menu.update());\n    }\n\n    public draw(): void {\n        if(this._active){\n            Canvas2D.changeCursor(GAME_CONFIG.DEFAULT_CURSOR);\n            Canvas2D.drawImage(Assets.getSprite(GAME_CONFIG.SPRITES.MAIN_MENU_BACKGROUND))\n            this._labels.forEach((label: MenuLabel) => label.draw());\n            this._buttons.forEach((button: MenuButton) => button.draw());\n        }\n        this._subMenus.forEach((menu: Menu) => menu.draw());\n    }\n}","import { IMenuCommand } from './commands/menu-command';\nimport { GAME_CONFIG } from '../game.config';\nimport { Mouse } from '../input/mouse';\nimport { Canvas2D } from '../canvas';\nimport { Vector2 } from '../geom/vector2';\nimport { Assets } from '../assets';\n\nexport class MenuButton {\n\n    private _activeSprite: HTMLImageElement;\n    private _hovered: boolean;\n\n    private set hovered(value: boolean) {\n        this._hovered = value;\n    }\n\n    constructor(\n        private _command: IMenuCommand,\n        private _value: any,\n        private _position: Vector2, \n        private _spriteKey: string, \n        private _spriteOnHoverKey: string,\n    ) {\n        this._activeSprite = Assets.getSprite(GAME_CONFIG.SPRITES[this._spriteKey]);\n    }\n\n    private isInsideButton(position: Vector2) {\n        return position.x > this._position.x &&\n               position.x < this._position.x + this._activeSprite.width &&\n               position.y > this._position.y &&\n               position.y < this._position.y + this._activeSprite.height;\n    }\n    \n    public handleInput() {\n\n        this.hovered = this.isInsideButton(Mouse.position);\n        this._activeSprite = this._hovered ? \n                             Assets.getSprite(GAME_CONFIG.SPRITES[this._spriteOnHoverKey]) : \n                             Assets.getSprite(GAME_CONFIG.SPRITES[this._spriteKey]);\n\n        if(this._hovered && Mouse.isPressed(GAME_CONFIG.SELECT_MOUSE_BUTTON)) {\n            Canvas2D.changeCursor(GAME_CONFIG.DEFAULT_CURSOR);\n            this._command.execute(this._value);\n        }\n    }\n\n    public update(): void {\n        this.handleInput();\n    }\n\n    public draw(): void {\n        if(this._hovered) {\n            Canvas2D.changeCursor(GAME_CONFIG.BUTTON_CURSOR);\n        }\n        Canvas2D.drawImage(this._activeSprite, this._position);\n    }\n}","import { Canvas2D } from '../canvas';\nimport { Vector2 } from '../geom/vector2';\n\nexport class MenuLabel {\n\n    constructor(\n        private _text: string,\n        private _position: Vector2,\n        private _font: string,\n        private _color: string,\n        private _alignment: string,\n    ){}\n\n    public draw(): void {\n        Canvas2D.drawText(this._text, this._font, this._color, this._position, this._alignment);\n    }\n}","import { AI } from './../ai/ai-trainer';\nimport { mapRange } from '../common/helper';\nimport { Referee } from './referee';\nimport { Player } from './player';\nimport { Stick } from './stick';\nimport { Color } from '../common/color';\nimport { Vector2 } from '../geom/vector2';\nimport { GAME_CONFIG } from '../game.config';\nimport { Assets } from '../assets';\nimport { Canvas2D } from '../canvas';\nimport { Ball } from './ball';\nimport { Mouse } from '../input/mouse';\nimport { State } from './state';\n\nexport class GameWorld {\n\n    //------Members------//\n\n    private _stick: Stick;\n    private _cueBall: Ball;\n    private _8Ball: Ball;\n    private _balls: Ball[];\n    private _players: Player[] = [new Player(), new Player()];\n    private _currentPlayerIndex = 0;\n    private _turnState: State;\n    private _referee: Referee;\n\n    //------Properties------//\n\n    public get currentPlayer(): Player {\n        return this._players[this._currentPlayerIndex];\n    }\n\n    public get nextPlayer(): Player {\n        return this._players[(this._currentPlayerIndex + 1) % this._players.length];\n    }\n\n    public get balls(): Ball[] {\n        return this._balls\n    }\n\n    public get isBallInHand(): boolean {\n        return this._turnState.ballInHand;\n    }\n\n    public get isTurnValid(): boolean {\n        return this._turnState.isValid;\n    }\n\n    public get isGameOver(): boolean {\n        return this._referee.isGameOver(this.currentPlayer, this._cueBall, this._8Ball);\n    }\n\n    public get isBallsMoving(): boolean {\n        return this._balls.some(ball => ball.moving);\n    }\n\n    public get numOfPocketedBallsOnTurn(): number {\n        return this._turnState.pocketedBalls.length;\n    }\n\n    //------Constructor------//\n\n    constructor() {\n        this.initMatch();\n    }\n\n    //------Private Methods------//\n\n    private getBallsByColor(color: Color): Ball[] {\n        return this._balls.filter((ball: Ball) => ball.color === color);\n    }\n\n    private handleInput(): void {\n        if (AI.finishedSession && Mouse.isPressed(GAME_CONFIG.SHOOT_MOUSE_BUTTON)) {\n            this.shootCueBall(this._stick.power, this._stick.rotation);\n        }\n    }\n\n    private isBallPosOutsideTopBorder(position: Vector2): boolean {\n        const topBallEdge: number = position.y - GAME_CONFIG.BALL_DIAMETER / 2;\n        return topBallEdge <= GAME_CONFIG.CUSHION_WIDTH;\n    }\n\n    private isBallPosOutsideLeftBorder(position: Vector2): boolean {\n        const leftBallEdge: number = position.x - GAME_CONFIG.BALL_DIAMETER / 2;\n        return leftBallEdge <= GAME_CONFIG.CUSHION_WIDTH;\n    }\n\n    private isBallPosOutsideRightBorder(position: Vector2): boolean {\n        const rightBallEdge: number = position.x + GAME_CONFIG.BALL_DIAMETER / 2;\n        return rightBallEdge >= GAME_CONFIG.GAME_WIDTH - GAME_CONFIG.CUSHION_WIDTH;\n    }\n\n    private isBallPosOutsideBottomBorder(position: Vector2): boolean {\n        const bottomBallEdge: number = position.y + GAME_CONFIG.BALL_DIAMETER / 2;\n        return bottomBallEdge >= GAME_CONFIG.GAME_HEIGHT - GAME_CONFIG.CUSHION_WIDTH;\n    }\n\n    private handleCollisionWithTopCushion(ball: Ball): void {\n        ball.position = ball.position.addY(GAME_CONFIG.CUSHION_WIDTH - ball.position.y + GAME_CONFIG.BALL_DIAMETER / 2);\n        ball.velocity = new Vector2(ball.velocity.x, -ball.velocity.y);\n    }\n\n    private handleCollisionWithLeftCushion(ball: Ball): void {\n        ball.position = ball.position.addX(GAME_CONFIG.CUSHION_WIDTH - ball.position.x + GAME_CONFIG.BALL_DIAMETER / 2);\n        ball.velocity = new Vector2(-ball.velocity.x, ball.velocity.y);\n    }\n\n    private handleCollisionWithRightCushion(ball: Ball): void {\n        ball.position = ball.position.addX(GAME_CONFIG.GAME_WIDTH - GAME_CONFIG.CUSHION_WIDTH - ball.position.x - GAME_CONFIG.BALL_DIAMETER / 2);\n        ball.velocity = new Vector2(-ball.velocity.x, ball.velocity.y);\n    }\n\n    private handleCollisionWithBottomCushion(ball: Ball): void {\n        ball.position = ball.position.addY(GAME_CONFIG.GAME_HEIGHT - GAME_CONFIG.CUSHION_WIDTH - ball.position.y - GAME_CONFIG.BALL_DIAMETER / 2);\n        ball.velocity = new Vector2(ball.velocity.x, -ball.velocity.y);\n    }\n\n    private resolveBallCollisionWithCushion(ball: Ball): void {\n\n        let collided: boolean = false;\n\n        if(this.isBallPosOutsideTopBorder(ball.nextPosition)) {\n            this.handleCollisionWithTopCushion(ball);\n            collided = true;\n        }\n        if(this.isBallPosOutsideLeftBorder(ball.nextPosition)) {\n            this.handleCollisionWithLeftCushion(ball);\n            collided = true;\n        }\n        if(this.isBallPosOutsideRightBorder(ball.nextPosition)) {\n            this.handleCollisionWithRightCushion(ball);\n            collided = true;\n        }\n        if(this.isBallPosOutsideBottomBorder(ball.nextPosition)) {\n            this.handleCollisionWithBottomCushion(ball);\n            collided = true;\n        }\n\n        if(collided) {\n            ball.velocity = ball.velocity.mult(1 - GAME_CONFIG.COLLISION_LOSS);\n        }\n    }\n\n    private resolveBallsCollision (first: Ball, second: Ball): boolean {\n\n        if(!first.visible || !second.visible){\n            return false;\n        }\n    \n        // Find a normal vector\n        const n: Vector2 = first.position.subtract(second.position);\n    \n        // Find distance\n        const dist: number = n.length;\n    \n        if(dist > GAME_CONFIG.BALL_DIAMETER){\n            return false;\n        }\n    \n        // Find minimum translation distance\n        const mtd = n.mult((GAME_CONFIG.BALL_DIAMETER - dist) / dist);\n    \n        // Push-pull balls apart\n        first.position = first.position.add(mtd.mult(0.5));\n        second.position = second.position.subtract(mtd.mult(0.5));\n    \n        // Find unit normal vector\n        const un = n.mult(1/n.length);\n    \n        // Find unit tangent vector\n        const ut = new Vector2(-un.y, un.x);\n    \n        // Project velocities onto the unit normal and unit tangent vectors\n        const v1n: number = un.dot(first.velocity);\n        const v1t: number = ut.dot(first.velocity);\n        const v2n: number = un.dot(second.velocity);\n        const v2t: number = ut.dot(second.velocity);\n    \n        // Convert the scalar normal and tangential velocities into vectors\n        const v1nTag: Vector2 = un.mult(v2n);\n        const v1tTag: Vector2 = ut.mult(v1t);\n        const v2nTag: Vector2 = un.mult(v1n);\n        const v2tTag: Vector2 = ut.mult(v2t);\n    \n        // Update velocities\n        first.velocity = v1nTag.add(v1tTag);\n        second.velocity = v2nTag.add(v2tTag);\n    \n        first.velocity = first.velocity.mult(1 - GAME_CONFIG.COLLISION_LOSS);\n        second.velocity = second.velocity.mult(1 - GAME_CONFIG.COLLISION_LOSS);\n        \n        return true;\n    }\n\n    private handleCollisions(): void {\n        for(let i = 0 ; i < this._balls.length ; i++ ){ \n            \n            this.resolveBallCollisionWithCushion(this._balls[i]);\n\n            for(let j = i + 1 ; j < this._balls.length ; j++ ){\n                const firstBall = this._balls[i];\n                const secondBall = this._balls[j];\n                const collided = this.resolveBallsCollision(firstBall, secondBall);\n                \n                if(collided){\n                    const force: number = firstBall.velocity.length + secondBall.velocity.length\n                    const volume: number = mapRange(force, 0, GAME_CONFIG.MAX_BALL_EXPECTED_COLLISION_FORCE, 0, 1);\n                    Assets.playSound(GAME_CONFIG.SOUNDS.BALLS_COLLIDE, volume);\n\n                    if(!this._turnState.firstCollidedBallColor) {\n                        const color: Color = firstBall.color === Color.white ? secondBall.color : firstBall.color;\n                        this._turnState.firstCollidedBallColor = color;\n                    }\n                }\n            }\n        }    \n    }\n\n    private isInsidePocket(position: Vector2): boolean {\n        return GAME_CONFIG.POCKETS_POSITIONS\n            .some((pocketPos: Vector2) => position.distFrom(pocketPos) <= GAME_CONFIG.POCKET_RADIUS);\n\n    }\n\n    private resolveBallInPocket(ball: Ball): void {\n\n        if (this.isInsidePocket(ball.position)) {\n            ball.hide();\n        }\n    }\n\n    private isValidPlayerColor(color: Color): boolean {\n        return color === Color.red || color === Color.yellow;\n    }\n\n    private handleBallsInPockets(): void {\n        this._balls.forEach((ball: Ball) => {\n            this.resolveBallInPocket(ball);\n            if (!ball.visible && !this._turnState.pocketedBalls.includes(ball)) {\n                Assets.playSound(GAME_CONFIG.SOUNDS.RAIL, 1);\n                if(!this.currentPlayer.color && this.isValidPlayerColor(ball.color)) {\n                    this.currentPlayer.color = ball.color;\n                    this.nextPlayer.color = ball.color === Color.yellow ? Color.red : Color.yellow;\n                }\n                this._turnState.pocketedBalls.push(ball);\n            }\n        });\n    }\n\n    private handleBallInHand(): void {\n\n        if(Mouse.isPressed(GAME_CONFIG.PLACE_BALL_IN_HAND_MOUSE_BUTTON) && this.isValidPosToPlaceCueBall(Mouse.position)) {\n            this.placeBallInHand(Mouse.position);\n        }\n        else {\n            this._stick.movable = false;\n            this._stick.visible = false;\n            this._cueBall.position = Mouse.position;\n        }\n    }\n\n    private handleGameOver(): void {\n        if (this._turnState.isValid) {\n            this.currentPlayer.overallScore++;\n        }\n        else {\n            this.nextPlayer.overallScore++;\n        }\n        this.initMatch();\n    }\n\n    private nextTurn(): void {\n\n        const foul = !this._turnState.isValid;\n\n        if (this.isGameOver) {\n            this.handleGameOver();\n            return;\n        }\n\n        if(!this._cueBall.visible){\n            this._cueBall.show(Vector2.copy(GAME_CONFIG.CUE_BALL_POSITION));\n        }\n\n        if(foul || this._turnState.pocketedBalls.length === 0) {\n            this._currentPlayerIndex++;\n            this._currentPlayerIndex = this._currentPlayerIndex % this._players.length;\n        }\n\n        this._stick.show(this._cueBall.position);\n\n        this._turnState = new State();\n        this._turnState.ballInHand = foul;\n\n        if (AI.finishedSession && GAME_CONFIG.AI_ON && this._currentPlayerIndex === GAME_CONFIG.AI_PLAYER_INDEX) {\n            AI.startSession(this);\n        }\n    }\n\n    private drawCurrentPlayerLabel(): void {\n        \n        Canvas2D.drawText(\n            GAME_CONFIG.CURRENT_PLAYER_LABEL + (this._currentPlayerIndex + 1), \n            GAME_CONFIG.CURRENT_PLAYER_LABEL_FONT, \n            GAME_CONFIG.CURRENT_PLAYER_LABEL_COLOR, \n            GAME_CONFIG.CURRENT_PLAYER_LABEL_POSITION, \n            GAME_CONFIG.CURRENT_PLAYER_LABEL_ALIGNMENT\n            );\n    }\n\n    private drawMatchScores(): void {\n        for(let i = 0 ; i < this._players.length ; i++){    \n            for(let j = 0 ; j < this._players[i].matchScore ; j++){\n                const scorePosition: Vector2 = Vector2.copy(GAME_CONFIG.MATCH_SCORE_POSITIONS[i]).addToX(j * GAME_CONFIG.MATCH_SCORE_MARGIN);\n                const scoreSprite: HTMLImageElement = this._players[i].color === Color.red ? Assets.getSprite(GAME_CONFIG.SPRITES.RED_SCORE) : Assets.getSprite(GAME_CONFIG.SPRITES.YELLOW_SCORE);\n                Canvas2D.drawImage(scoreSprite, scorePosition);\n            }\n        }    \n    }\n\n    private drawOverallScores(): void {\n        for(let i = 0 ; i < this._players.length ; i++){ \n            Canvas2D.drawText(\n                this._players[i].overallScore.toString(), \n                GAME_CONFIG.OVERALL_SCORE_LABEL_FONT,\n                GAME_CONFIG.OVERALL_SCORE_LABEL_COLOR,\n                GAME_CONFIG.OVERALL_SCORE_LABELS_POSITIONS[i],\n                GAME_CONFIG.OVERALL_SCORE_LABELS_ALIGNMENT\n                );   \n        }\n    }\n\n    private isInsideTableBoundaries(position: Vector2): boolean {\n        let insideTable: boolean =  !this.isInsidePocket(position);\n        insideTable = insideTable && !this.isBallPosOutsideTopBorder(position);\n        insideTable = insideTable && !this.isBallPosOutsideLeftBorder(position);\n        insideTable = insideTable && !this.isBallPosOutsideRightBorder(position);\n        insideTable = insideTable && !this.isBallPosOutsideBottomBorder(position);\n\n        return insideTable;\n    }\n\n    //------Public Methods------//\n\n    public initMatch(): void {\n\n        const redBalls: Ball[] = GAME_CONFIG.RED_BALLS_POSITIONS\n            .map((position: Vector2) => new Ball(Vector2.copy(position), Color.yellow));\n\n        const yellowBalls: Ball[] = GAME_CONFIG.YELLOW_BALLS_POSITIONS\n            .map((position: Vector2) => new Ball(Vector2.copy(position), Color.red));\n        \n        this._8Ball = new Ball(Vector2.copy(GAME_CONFIG.EIGHT_BALL_POSITION), Color.black);\n\n        this._cueBall = new Ball(Vector2.copy(GAME_CONFIG.CUE_BALL_POSITION), Color.white);\n\n        this._stick = new Stick(Vector2.copy(GAME_CONFIG.CUE_BALL_POSITION));\n\n        this._balls = [\n            ...redBalls, \n            ... yellowBalls, \n            this._8Ball,\n            this._cueBall, \n        ];\n\n        this._currentPlayerIndex = 0;\n\n        this._players.forEach((player: Player) => {\n            player.matchScore = 0;\n            player.color = null;\n        });\n        this._turnState = new State();\n        this._referee = new Referee();\n    }\n\n    public isValidPosToPlaceCueBall(position: Vector2): boolean {\n        let noOverlap: boolean =  this._balls.every((ball: Ball) => {\n            return ball.color === Color.white || \n                   ball.position.distFrom(position) > GAME_CONFIG.BALL_DIAMETER;\n        })\n\n        return noOverlap && this.isInsideTableBoundaries(position);\n    }\n\n    public placeBallInHand(position: Vector2): void {\n        this._cueBall.position = position;\n        this._turnState.ballInHand = false;\n        this._stick.show(this._cueBall.position);\n    }\n\n    public concludeTurn(): void {\n\n        this._turnState.pocketedBalls.forEach((ball: Ball) => {\n            const ballIndex: number = this._balls.indexOf(ball);\n            if(ball.color != Color.white) {\n                this._balls.splice(ballIndex, 1);\n            }\n        });\n        \n        if(this.currentPlayer.color) {\n            this.currentPlayer.matchScore = 8 - this.getBallsByColor(this.currentPlayer.color).length - this.getBallsByColor(Color.black).length;\n        }\n\n        if(this.nextPlayer.color) {\n            this.nextPlayer.matchScore = 8 - this.getBallsByColor(this.nextPlayer.color).length - this.getBallsByColor(Color.black).length;\n        }\n\n        this._turnState.isValid = this._referee.isValidTurn(this.currentPlayer, this._turnState);\n    }\n\n    public shootCueBall(power: number, rotation: number): void {\n        if(power > 0) {\n            this._stick.rotation = rotation;\n            this._stick.shoot();\n            this._cueBall.shoot(power, rotation);\n            this._stick.movable = false;\n            setTimeout(() => this._stick.hide(), GAME_CONFIG.TIMEOUT_TO_HIDE_STICK_AFTER_SHOT);\n        }\n    }\n\n    public update(): void {\n\n        if(this.isBallInHand) {\n            this.handleBallInHand();\n            return;\n        }\n\n        this.handleBallsInPockets();\n        this.handleCollisions();\n        this.handleInput();\n        this._stick.update();\n        this._balls.forEach((ball: Ball) => ball.update());\n\n        if(!this.isBallsMoving && !this._stick.visible) {\n            this.concludeTurn();\n            this.nextTurn();\n        }\n    }\n\n    public draw(): void {\n        Canvas2D.drawImage(Assets.getSprite(GAME_CONFIG.SPRITES.TABLE));\n        this.drawCurrentPlayerLabel();\n        this.drawMatchScores();\n        this.drawOverallScores();\n        this._balls.forEach((ball: Ball) => ball.draw());\n        this._stick.draw();\n    }\n}","import { State } from './state';\nimport { Color } from '../common/color';\nimport { Ball } from \"./ball\";\nimport { Player } from \"./player\";\n\nexport class Referee {\n\n    private isValidFirstTouch(player: Player, collidedBallColor: Color): boolean {\n\n        if(!collidedBallColor) {\n            return false;\n        }\n        if(!player.color) {\n            return collidedBallColor !== Color.black;\n        }\n\n        return player.color === collidedBallColor || \n               (player.matchScore === 7 && collidedBallColor === Color.black) ||\n               (player.matchScore === 8 && collidedBallColor === Color.black); \n    }\n\n    private isValidPocketedBalls(player: Player, pocketedBalls: Ball[]): boolean {\n        if(pocketedBalls.length === 0) {\n            return true;\n        }\n        if(player.color) {\n            if (player.matchScore === 8) {\n                return pocketedBalls.length === 1 && pocketedBalls[0].color === Color.black;\n            }\n            else {\n                return pocketedBalls.every((ball: Ball) => ball.color === player.color);\n            }\n        } else {\n            const color = pocketedBalls[0].color;\n            return color !== Color.white &&\n                   color !== Color.black &&\n                   pocketedBalls.every((ball: Ball) => ball.color === color);\n        }\n    }\n    \n    public isValidTurn(player: Player, state: State): boolean {\n        return this.isValidFirstTouch(player, state.firstCollidedBallColor) &&\n               this.isValidPocketedBalls(player, state.pocketedBalls);\n    }\n\n    public isGameOver(currentPlayer: Player, cueBall: Ball, eightBall: Ball): boolean {\n        return !eightBall.visible || \n               (!cueBall.visible && currentPlayer.matchScore === 7) ||\n               (!cueBall.visible && currentPlayer.matchScore === 8)\n    }\n}","import { GAME_CONFIG } from '../game.config';\nimport { Color } from '../common/color';\nimport { Canvas2D } from '../canvas';\n\nexport class Player {\n\n    public color: Color;\n    public matchScore: number = 0;\n    public overallScore: number = 0;\n\n}","import { Keyboard } from '../input/keyboard';\nimport { Mouse } from '../input/mouse';\nimport { GAME_CONFIG } from '../game.config';\nimport { Assets } from '../assets';\nimport { Canvas2D } from '../canvas';\nimport { Vector2 } from '../geom/vector2';\nimport { mapRange } from '../common/helper';\n\nexport class Stick {\n\n    //------Members------//\n\n    private _sprite: HTMLImageElement = Assets.getSprite(GAME_CONFIG.SPRITES.STICK);\n    private _rotation: number = 0;\n    private _origin: Vector2 = Vector2.copy(GAME_CONFIG.STICK_ORIGIN);\n    private _power: number = 0;\n    private _movable: boolean = true;\n    private _visible: boolean = true;\n\n    //------Properties------//\n\n    public get position() : Vector2 {\n        return Vector2.copy(this._position);\n    }\n    \n    public get rotation(): number {\n        return this._rotation;\n    }\n\n    public get power(): number {\n        return this._power;\n    }\n\n    public set movable(value: boolean) {\n        this._movable = value;\n    }\n\n    public get visible(): boolean {\n        return this._visible;\n    }\n\n    public set visible(value: boolean) {\n        this._visible = value;\n    }\n\n    public set rotation(value: number) {\n        this._rotation = value;\n    }\n\n    //------Constructor------//\n\n    constructor(private _position: Vector2) {}\n\n    //------Private Methods------//\n\n    private increasePower(): void {\n        this._power += GAME_CONFIG.POWER_TO_ADD_PER_FRAME;\n        this._origin.addToX(GAME_CONFIG.STICK_MOVEMENT_PER_FRAME);\n    }\n\n    private decreasePower(): void {\n        this._power -= GAME_CONFIG.POWER_TO_ADD_PER_FRAME;\n        this._origin.addToX(-GAME_CONFIG.STICK_MOVEMENT_PER_FRAME);\n    }\n    \n    private isLessThanMaxPower(): boolean {\n        return this._power < GAME_CONFIG.STICK_MAX_POWER;\n    }\n\n    private isMoreThanMinPower(): boolean {\n        return this._power >= 0;\n    }\n\n    private updatePower(): void {\n\n        if (Keyboard.isDown(GAME_CONFIG.INCREASE_SHOT_POWER_KEY) && this.isLessThanMaxPower()) {\n            this.increasePower();\n        }\n        else if (Keyboard.isDown(GAME_CONFIG.DECREASE_SHOT_POWER_KEY) && this.isMoreThanMinPower()) {\n            this.decreasePower();\n        }\n    }\n\n    private updateRotation(): void {\n        const opposite: number = Mouse.position.y - this._position.y;\n        const adjacent: number = Mouse.position.x - this._position.x;\n        this._rotation = Math.atan2(opposite, adjacent);\n    }\n\n    //------Public Methods------//\n\n    public hide(): void {\n        this._power = 0;\n        this._visible = false;\n        this._movable = false;\n    }\n\n    public show(position: Vector2): void {\n        this._position = position;\n        this._origin = Vector2.copy(GAME_CONFIG.STICK_ORIGIN);\n        this._movable = true;\n        this._visible = true;\n    }\n\n    public shoot(): void {\n        this._origin = Vector2.copy(GAME_CONFIG.STICK_SHOT_ORIGIN);\n        const volume: number = mapRange(this._power, 0, GAME_CONFIG.STICK_MAX_POWER, 0, 1);\n        Assets.playSound(GAME_CONFIG.SOUNDS.STRIKE, volume);\n    }\n\n    public update(): void {\n        if(this._movable) {\n            this.updateRotation();\n            this.updatePower();\n        }\n    }\n\n    public draw(): void {\n        if(this._visible) {\n            Canvas2D.drawImage(this._sprite, this._position, this._rotation, this._origin);\n        }\n    }\n\n}","import { GAME_CONFIG } from '../game.config';\nimport { Canvas2D } from '../canvas';\nimport { Color } from '../common/color';\nimport { Vector2 } from '../geom/vector2';\nimport { Assets } from '../assets';\n\nexport class Ball {\n\n    //------Members------//\n\n    private _sprite: HTMLImageElement;\n    private _color: Color;\n    private _velocity: Vector2 = Vector2.zero;\n    private _moving: boolean = false;\n    private _visible: boolean = true;\n\n\n    //------Properties------//\n\n    public get position(): Vector2 {\n        return Vector2.copy(this._position);\n    }\n\n    public set position(value: Vector2) {\n        this._position = value;\n    }\n\n    public get nextPosition(): Vector2 {\n        return this.position.add(this._velocity.mult(1 - GAME_CONFIG.FRICTION));\n    }\n\n    public get velocity(): Vector2 {\n        return Vector2.copy(this._velocity);\n    }\n\n    public set velocity(value: Vector2) {\n        this._moving = value.length > 0 ? true : false;\n        this._velocity = value;\n    }\n\n    public get moving(): boolean {\n        return this._moving;\n    }\n\n    public get color(): Color {\n        return this._color;\n    }\n\n    public get visible(): boolean {\n        return this._visible;\n    }\n\n    //------Constructor------//\n\n    constructor(private _position: Vector2, color: Color) {\n        this._color = color;\n        this.resolveSprite(color);\n    }\n\n    //------Private Methods------//\n\n    private resolveSprite(color: Color) {\n        switch(color) {\n            case Color.white:\n                this._sprite = Assets.getSprite(GAME_CONFIG.SPRITES.CUE_BALL);\n                break;\n\n            case Color.black:\n                this._sprite = Assets.getSprite(GAME_CONFIG.SPRITES.BLACK_BALL);\n                break;\n\n            case Color.red:\n                this._sprite = Assets.getSprite(GAME_CONFIG.SPRITES.RED_BALL);\n                break;\n\n            case Color.yellow:\n                this._sprite = Assets.getSprite(GAME_CONFIG.SPRITES.YELLOW_BALL);\n                break;\n        }\n    }\n\n    //------Public Methods------//\n\n    public shoot(power: number, angle: number): void {\n        this._velocity = new Vector2(power * Math.cos(angle), power * Math.sin(angle));\n        this._moving = true;\n    }\n\n    public show(position: Vector2): void {\n        this._position = position;\n        this._velocity = Vector2.zero;\n        this._visible = true;\n    }\n\n    public hide(): void {\n        this._velocity = Vector2.zero;\n        this._moving = false;\n        this._visible = false;\n    }\n\n    public update(): void {\n        if(this._moving) {\n            this._velocity.multBy(1 - GAME_CONFIG.FRICTION);\n            this._position.addTo(this._velocity);\n\n            if(this._velocity.length < GAME_CONFIG.BALL_MIN_VELOCITY_LENGTH) {\n                this.velocity = Vector2.zero;\n                this._moving = false;\n            }\n        }\n    }\n\n    public draw(): void {\n        if(this._visible){\n            Canvas2D.drawImage(this._sprite, this._position, 0, GAME_CONFIG.BALL_ORIGIN);\n        }\n    }\n}","import { Ball } from './ball';\nimport { Color } from \"../common/color\";\n\nexport class State {\n    public firstCollidedBallColor: Color;\n    public pocketedBalls: Ball[] = [];\n    public ballInHand = false;\n    public isValid = false;\n}"],"sourceRoot":""}